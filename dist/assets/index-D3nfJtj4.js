(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Sm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function gv(){if(rp)return Ce;rp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function D(x){return x===null||typeof x!="object"?null:(x=V&&x[V]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function W(x,$,ce){this.props=x,this.context=$,this.refs=J,this.updater=ce||j}W.prototype.isReactComponent={},W.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},W.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function we(){}we.prototype=W.prototype;function me(x,$,ce){this.props=x,this.context=$,this.refs=J,this.updater=ce||j}var ye=me.prototype=new we;ye.constructor=me,Y(ye,W.prototype),ye.isPureReactComponent=!0;var Te=Array.isArray,Ge=Object.prototype.hasOwnProperty,Pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(x,$,ce){var Ie,Ae={},Ne=null,Oe=null;if($!=null)for(Ie in $.ref!==void 0&&(Oe=$.ref),$.key!==void 0&&(Ne=""+$.key),$)Ge.call($,Ie)&&!k.hasOwnProperty(Ie)&&(Ae[Ie]=$[Ie]);var Fe=arguments.length-2;if(Fe===1)Ae.children=ce;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Ae.children=Be}if(x&&x.defaultProps)for(Ie in Fe=x.defaultProps,Fe)Ae[Ie]===void 0&&(Ae[Ie]=Fe[Ie]);return{$$typeof:i,type:x,key:Ne,ref:Oe,props:Ae,_owner:Pe.current}}function A(x,$){return{$$typeof:i,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ce){return $[ce]})}var L=/\/+/g;function I(x,$){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):$.toString(36)}function Xe(x,$,ce,Ie,Ae){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var Oe=!1;if(x===null)Oe=!0;else switch(Ne){case"string":case"number":Oe=!0;break;case"object":switch(x.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=x,Ae=Ae(Oe),x=Ie===""?"."+I(Oe,0):Ie,Te(Ae)?(ce="",x!=null&&(ce=x.replace(L,"$&/")+"/"),Xe(Ae,$,ce,"",function(gt){return gt})):Ae!=null&&(R(Ae)&&(Ae=A(Ae,ce+(!Ae.key||Oe&&Oe.key===Ae.key?"":(""+Ae.key).replace(L,"$&/")+"/")+x)),$.push(Ae)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",Te(x))for(var Fe=0;Fe<x.length;Fe++){Ne=x[Fe];var Be=Ie+I(Ne,Fe);Oe+=Xe(Ne,$,ce,Be,Ae)}else if(Be=D(x),typeof Be=="function")for(x=Be.call(x),Fe=0;!(Ne=x.next()).done;)Ne=Ne.value,Be=Ie+I(Ne,Fe++),Oe+=Xe(Ne,$,ce,Be,Ae);else if(Ne==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Oe}function mt(x,$,ce){if(x==null)return x;var Ie=[],Ae=0;return Xe(x,Ie,"","",function(Ne){return $.call(ce,Ne,Ae++)}),Ie}function ee(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(ce){(x._status===0||x._status===-1)&&(x._status=1,x._result=ce)},function(ce){(x._status===0||x._status===-1)&&(x._status=2,x._result=ce)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var ne={current:null},H={transition:null},se={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:H,ReactCurrentOwner:Pe};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:mt,forEach:function(x,$,ce){mt(x,function(){$.apply(this,arguments)},ce)},count:function(x){var $=0;return mt(x,function(){$++}),$},toArray:function(x){return mt(x,function($){return $})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=W,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=me,Ce.StrictMode=s,Ce.Suspense=v,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ce.act=te,Ce.cloneElement=function(x,$,ce){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ie=Y({},x.props),Ae=x.key,Ne=x.ref,Oe=x._owner;if($!=null){if($.ref!==void 0&&(Ne=$.ref,Oe=Pe.current),$.key!==void 0&&(Ae=""+$.key),x.type&&x.type.defaultProps)var Fe=x.type.defaultProps;for(Be in $)Ge.call($,Be)&&!k.hasOwnProperty(Be)&&(Ie[Be]=$[Be]===void 0&&Fe!==void 0?Fe[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=ce;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:x.type,key:Ae,ref:Ne,props:Ie,_owner:Oe}},Ce.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},Ce.createElement=T,Ce.createFactory=function(x){var $=T.bind(null,x);return $.type=x,$},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:g,render:x}},Ce.isValidElement=R,Ce.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ee}},Ce.memo=function(x,$){return{$$typeof:E,type:x,compare:$===void 0?null:$}},Ce.startTransition=function(x){var $=H.transition;H.transition={};try{x()}finally{H.transition=$}},Ce.unstable_act=te,Ce.useCallback=function(x,$){return ne.current.useCallback(x,$)},Ce.useContext=function(x){return ne.current.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x){return ne.current.useDeferredValue(x)},Ce.useEffect=function(x,$){return ne.current.useEffect(x,$)},Ce.useId=function(){return ne.current.useId()},Ce.useImperativeHandle=function(x,$,ce){return ne.current.useImperativeHandle(x,$,ce)},Ce.useInsertionEffect=function(x,$){return ne.current.useInsertionEffect(x,$)},Ce.useLayoutEffect=function(x,$){return ne.current.useLayoutEffect(x,$)},Ce.useMemo=function(x,$){return ne.current.useMemo(x,$)},Ce.useReducer=function(x,$,ce){return ne.current.useReducer(x,$,ce)},Ce.useRef=function(x){return ne.current.useRef(x)},Ce.useState=function(x){return ne.current.useState(x)},Ce.useSyncExternalStore=function(x,$,ce){return ne.current.useSyncExternalStore(x,$,ce)},Ce.useTransition=function(){return ne.current.useTransition()},Ce.version="18.3.1",Ce}var ip;function Am(){return ip||(ip=1,bc.exports=gv()),bc.exports}var Lt=Am();const U=Sm(Lt);var Il={},Uc={exports:{}},Kt={},Bc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function yv(){return sp||(sp=1,function(i){function e(H,se){var te=H.length;H.push(se);e:for(;0<te;){var x=te-1>>>1,$=H[x];if(0<a($,se))H[x]=se,H[te]=$,te=x;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var se=H[0],te=H.pop();if(te!==se){H[0]=te;e:for(var x=0,$=H.length,ce=$>>>1;x<ce;){var Ie=2*(x+1)-1,Ae=H[Ie],Ne=Ie+1,Oe=H[Ne];if(0>a(Ae,te))Ne<$&&0>a(Oe,Ae)?(H[x]=Oe,H[Ne]=te,x=Ne):(H[x]=Ae,H[Ie]=te,x=Ie);else if(Ne<$&&0>a(Oe,te))H[x]=Oe,H[Ne]=te,x=Ne;else break e}}return se}function a(H,se){var te=H.sortIndex-se.sortIndex;return te!==0?te:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var v=[],E=[],S=1,V=null,D=3,j=!1,Y=!1,J=!1,W=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(H){for(var se=n(E);se!==null;){if(se.callback===null)s(E);else if(se.startTime<=H)s(E),se.sortIndex=se.expirationTime,e(v,se);else break;se=n(E)}}function Te(H){if(J=!1,ye(H),!Y)if(n(v)!==null)Y=!0,ee(Ge);else{var se=n(E);se!==null&&ne(Te,se.startTime-H)}}function Ge(H,se){Y=!1,J&&(J=!1,we(T),T=-1),j=!0;var te=D;try{for(ye(se),V=n(v);V!==null&&(!(V.expirationTime>se)||H&&!N());){var x=V.callback;if(typeof x=="function"){V.callback=null,D=V.priorityLevel;var $=x(V.expirationTime<=se);se=i.unstable_now(),typeof $=="function"?V.callback=$:V===n(v)&&s(v),ye(se)}else s(v);V=n(v)}if(V!==null)var ce=!0;else{var Ie=n(E);Ie!==null&&ne(Te,Ie.startTime-se),ce=!1}return ce}finally{V=null,D=te,j=!1}}var Pe=!1,k=null,T=-1,A=5,R=-1;function N(){return!(i.unstable_now()-R<A)}function L(){if(k!==null){var H=i.unstable_now();R=H;var se=!0;try{se=k(!0,H)}finally{se?I():(Pe=!1,k=null)}}else Pe=!1}var I;if(typeof me=="function")I=function(){me(L)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,mt=Xe.port2;Xe.port1.onmessage=L,I=function(){mt.postMessage(null)}}else I=function(){W(L,0)};function ee(H){k=H,Pe||(Pe=!0,I())}function ne(H,se){T=W(function(){H(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){Y||j||(Y=!0,ee(Ge))},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return n(v)},i.unstable_next=function(H){switch(D){case 1:case 2:case 3:var se=3;break;default:se=D}var te=D;D=se;try{return H()}finally{D=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=D;D=H;try{return se()}finally{D=te}},i.unstable_scheduleCallback=function(H,se,te){var x=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?x+te:x):te=x,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=te+$,H={id:S++,callback:se,priorityLevel:H,startTime:te,expirationTime:$,sortIndex:-1},te>x?(H.sortIndex=te,e(E,H),n(v)===null&&H===n(E)&&(J?(we(T),T=-1):J=!0,ne(Te,te-x))):(H.sortIndex=$,e(v,H),Y||j||(Y=!0,ee(Ge))),H},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(H){var se=D;return function(){var te=D;D=se;try{return H.apply(this,arguments)}finally{D=te}}}}(jc)),jc}var op;function vv(){return op||(op=1,Bc.exports=yv()),Bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function _v(){if(ap)return Kt;ap=1;var i=Am(),e=vv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},V={};function D(t){return v.call(V,t)?!0:v.call(S,t)?!1:E.test(t)?V[t]=!0:(S[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new J(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];W[r]=new J(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new J(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new J(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new J(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new J(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new J(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new J(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new J(t,5,!1,t.toLowerCase(),null,!1,!1)});var we=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(we,me);W[r]=new J(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(we,me);W[r]=new J(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(we,me);W[r]=new J(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new J(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new J(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,r,o,u){var h=W.hasOwnProperty(r)?W[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,h,u)&&(o=null),u||h===null?D(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),H=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,x;function $(t){if(x===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);x=r&&r[1]||""}return`
`+x+t}var ce=!1;function Ie(t,r){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){u=z}t.call(r.prototype)}else{try{throw Error()}catch(z){u=z}t()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var C=`
`+h[y].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=y&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function Ae(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function Ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Pe:return"Portal";case A:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case Xe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case R:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mt:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Gn(t){t._valueTracker||(t._valueTracker=gt(t))}function Oi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ei(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Fi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Qs(t,r){r=r.checked,r!=null&&ye(t,"checked",r,!1)}function Ws(t,r){Qs(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?zi(t,r.type,o):r.hasOwnProperty("defaultValue")&&zi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function la(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function zi(t,r,o){(r!=="number"||yr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Xn=Array.isArray;function Yn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ks(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Xn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Ui(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Gs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jn,Xs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function vr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ni=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(t){ni.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ti[r]=ti[t]})});function Ys(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ti.hasOwnProperty(t)&&ti[t]?(""+r).trim():r+"px"}function Js(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ys(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Zs=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,r){if(r){if(Zs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function to(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function Bi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,sn=null,Dn=null;function $i(t){if(t=Co(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=za(r),ji(t.stateNode,t.type,r))}}function Ln(t){sn?Dn?Dn.push(t):Dn=[t]:sn=t}function no(){if(sn){var t=sn,r=Dn;if(Dn=sn=null,$i(t),r)for(t=0;t<r.length;t++)$i(r[t])}}function ii(t,r){return t(r)}function ro(){}var Zn=!1;function io(t,r,o){if(Zn)return t(r,o);Zn=!0;try{return ii(t,r,o)}finally{Zn=!1,(sn!==null||Dn!==null)&&(ro(),no())}}function tt(t,r){var o=t.stateNode;if(o===null)return null;var u=za(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Hi=!1;if(g)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Hi=!1}function si(t,r,o,u,h,p,y,w,C){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(Q){this.onError(Q)}}var oi=!1,qi=null,yn=!1,so=null,du={onError:function(t){oi=!0,qi=t}};function Qi(t,r,o,u,h,p,y,w,C){oi=!1,qi=null,si.apply(du,arguments)}function ua(t,r,o,u,h,p,y,w,C){if(Qi.apply(this,arguments),oi){if(oi){var z=qi;oi=!1,qi=null}else throw Error(n(198));yn||(yn=!0,so=z)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ai(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _n(t){if(vn(t)!==t)throw Error(n(188))}function ca(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return _n(h),t;if(p===u)return _n(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function oo(t){return t=ca(t),t!==null?Wi(t):null}function Wi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Wi(t);if(r!==null)return r;t=t.sibling}return null}var Ki=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,ha=e.unstable_shouldYield,pu=e.unstable_requestPaint,je=e.unstable_now,fa=e.unstable_getCurrentPriorityLevel,li=e.unstable_ImmediatePriority,_r=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,lo=e.unstable_LowPriority,da=e.unstable_IdlePriority,ui=null,Xt=null;function pa(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ui,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ga,uo=Math.log,ma=Math.LN2;function ga(t){return t>>>=0,t===0?32:31-(uo(t)/ma|0)|0}var Gi=64,Xi=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ci(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=Er(w):(p&=y,p!==0&&(u=Er(p)))}else y=o&~h,y!==0?u=Er(y):p!==0&&(u=Er(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),h=1<<o,u|=t[o],r&=~h;return u}function mu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Ft(p),w=1<<y,C=h[y];C===-1?((w&o)===0||(w&u)!==0)&&(h[y]=mu(w,r)):C<=r&&(t.expiredLanes|=w),p&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hi(){var t=Gi;return Gi<<=1,(Gi&4194240)===0&&(Gi=64),t}function wr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Tr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ft(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ir(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var ke=0;function Sr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ya,Yi,va,_a,Ea,co=!1,Mn=[],Tt=null,En=null,wn=null,Ar=new Map,an=new Map,On=[],gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ar.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Co(r),r!==null&&Yi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yu(t,r,o,u,h){switch(r){case"focusin":return Tt=Bt(Tt,t,r,o,u,h),!0;case"dragenter":return En=Bt(En,t,r,o,u,h),!0;case"mouseover":return wn=Bt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ar.set(p,Bt(Ar.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,Bt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ta(t){var r=gi(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=ai(o),r!==null){t.blockedOn=r,Ea(t.priority,function(){va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ji(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ri=u,o.target.dispatchEvent(u),ri=null}else return r=Co(o),r!==null&&Yi(r),t.blockedOn=o,!1;r.shift()}return!0}function fi(t,r,o){tr(t)&&o.delete(r)}function Ia(){co=!1,Tt!==null&&tr(Tt)&&(Tt=null),En!==null&&tr(En)&&(En=null),wn!==null&&tr(wn)&&(wn=null),Ar.forEach(fi),an.forEach(fi)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ia)))}function In(t){function r(h){return Tn(h,t)}if(0<Mn.length){Tn(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Tn(Tt,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ar.forEach(r),an.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ta(o),o.blockedOn===null&&On.shift()}var nr=Te.ReactCurrentBatchConfig,Cr=!0;function Qe(t,r,o,u){var h=ke,p=nr.transition;nr.transition=null;try{ke=1,ho(t,r,o,u)}finally{ke=h,nr.transition=p}}function vu(t,r,o,u){var h=ke,p=nr.transition;nr.transition=null;try{ke=4,ho(t,r,o,u)}finally{ke=h,nr.transition=p}}function ho(t,r,o,u){if(Cr){var h=Ji(t,r,o,u);if(h===null)ku(t,r,u,di,o),wa(t,u);else if(yu(h,t,r,o,u))u.stopPropagation();else if(wa(t,u),r&4&&-1<gu.indexOf(t)){for(;h!==null;){var p=Co(h);if(p!==null&&ya(p),p=Ji(t,r,o,u),p===null&&ku(t,r,u,di,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else ku(t,r,u,null,o)}}var di=null;function Ji(t,r,o,u){if(di=null,t=Bi(u),t=gi(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ai(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return di=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fa()){case li:return 1;case _r:return 4;case on:case lo:return 16;case da:return 536870912;default:return 16}default:return 16}}var Jt=null,Zi=null,jt=null;function po(){if(jt)return jt;var t,r=Zi,o=r.length,u,h="value"in Jt?Jt.value:Jt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function mo(){return!1}function It(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:mo,this.isPropagationStopped=mo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=It(Sn),zn=te({},Sn,{view:0,detail:0}),_u=It(zn),ns,rr,Rr,pi=te({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(ns=t.screenX-Rr.screenX,rr=t.screenY-Rr.screenY):rr=ns=0,Rr=t),ns)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),rs=It(pi),go=te({},pi,{dataTransfer:0}),Sa=It(go),is=te({},zn,{relatedTarget:0}),ss=It(is),Aa=te({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=It(Aa),Ca=te({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=It(Ca),Pa=te({},Sn,{data:0}),yo=It(Pa),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Na(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ka[t])?!!r[t]:!1}function bn(){return Na}var l=te({},zn,{key:function(t){if(t.key){var r=os[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),m=te({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=It(m),M=te({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),b=It(M),Z=te({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=It(Z),ut=te({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=It(ut),yt=[9,13,27,32],it=g&&"CompositionEvent"in window,ln=null;g&&"documentMode"in document&&(ln=document.documentMode);var Zt=g&&"TextEvent"in window&&!ln,mi=g&&(!it||ln&&8<ln&&11>=ln),as=" ",Xh=!1;function Yh(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function dy(t,r){switch(t){case"compositionend":return Jh(r);case"keypress":return r.which!==32?null:(Xh=!0,as);case"textInput":return t=r.data,t===as&&Xh?null:t;default:return null}}function py(t,r){if(ls)return t==="compositionend"||!it&&Yh(t,r)?(t=po(),jt=Zi=Jt=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mi&&r.locale!=="ko"?null:r.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!my[t.type]:r==="textarea"}function ef(t,r,o,u){Ln(u),r=Ma(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var vo=null,_o=null;function gy(t){_f(t,0)}function Va(t){var r=ds(t);if(Oi(r))return t}function yy(t,r){if(t==="change")return r}var tf=!1;if(g){var Eu;if(g){var wu="oninput"in document;if(!wu){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),wu=typeof nf.oninput=="function"}Eu=wu}else Eu=!1;tf=Eu&&(!document.documentMode||9<document.documentMode)}function rf(){vo&&(vo.detachEvent("onpropertychange",sf),_o=vo=null)}function sf(t){if(t.propertyName==="value"&&Va(_o)){var r=[];ef(r,_o,t,Bi(t)),io(gy,r)}}function vy(t,r,o){t==="focusin"?(rf(),vo=r,_o=o,vo.attachEvent("onpropertychange",sf)):t==="focusout"&&rf()}function _y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(_o)}function Ey(t,r){if(t==="click")return Va(r)}function wy(t,r){if(t==="input"||t==="change")return Va(r)}function Ty(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Ty;function Eo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!v.call(r,h)||!An(t[h],r[h]))return!1}return!0}function of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,r){var o=of(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=of(o)}}function lf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?lf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function uf(){for(var t=window,r=yr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=yr(t.document)}return r}function Tu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Iy(t){var r=uf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&lf(o.ownerDocument.documentElement,o)){if(u!==null&&Tu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=af(o,p);var y=af(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sy=g&&"documentMode"in document&&11>=document.documentMode,us=null,Iu=null,wo=null,Su=!1;function cf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Su||us==null||us!==yr(u)||(u=us,"selectionStart"in u&&Tu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Ma(Iu,"onSelect"),0<u.length&&(r=new ts("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=us)))}function xa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var cs={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Au={},hf={};g&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Da(t){if(Au[t])return Au[t];if(!cs[t])return t;var r=cs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in hf)return Au[t]=r[o];return t}var ff=Da("animationend"),df=Da("animationiteration"),pf=Da("animationstart"),mf=Da("transitionend"),gf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,r){gf.set(t,r),c(r,[t])}for(var Cu=0;Cu<yf.length;Cu++){var Ru=yf[Cu],Ay=Ru.toLowerCase(),Cy=Ru[0].toUpperCase()+Ru.slice(1);Pr(Ay,"on"+Cy)}Pr(ff,"onAnimationEnd"),Pr(df,"onAnimationIteration"),Pr(pf,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(mf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function vf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ua(u,r,void 0,t),t.currentTarget=null}function _f(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],C=w.instance,z=w.currentTarget;if(w=w.listener,C!==p&&h.isPropagationStopped())break e;vf(h,w,z),p=C}else for(y=0;y<u.length;y++){if(w=u[y],C=w.instance,z=w.currentTarget,w=w.listener,C!==p&&h.isPropagationStopped())break e;vf(h,w,z),p=C}}}if(yn)throw t=so,yn=!1,so=null,t}function He(t,r){var o=r[Mu];o===void 0&&(o=r[Mu]=new Set);var u=t+"__bubble";o.has(u)||(Ef(r,t,2,!1),o.add(u))}function Pu(t,r,o){var u=0;r&&(u|=4),Ef(o,t,u,r)}var La="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[La]){t[La]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ry.has(o)||Pu(o,!1,t),Pu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[La]||(r[La]=!0,Pu("selectionchange",!1,r))}}function Ef(t,r,o,u){switch(fo(r)){case 1:var h=Qe;break;case 4:h=vu;break;default:h=ho}o=h.bind(null,r,o,t),h=void 0,!Hi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function ku(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;y=y.return}for(;w!==null;){if(y=gi(w),y===null)return;if(C=y.tag,C===5||C===6){u=p=y;continue e}w=w.parentNode}}u=u.return}io(function(){var z=p,Q=Bi(o),G=[];e:{var q=gf.get(t);if(q!==void 0){var re=ts,ae=t;switch(t){case"keypress":if(es(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":ae="focus",re=ss;break;case"focusout":ae="blur",re=ss;break;case"beforeblur":case"afterblur":re=ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=b;break;case ff:case df:case pf:re=ir;break;case mf:re=be;break;case"scroll":re=_u;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=_}var le=(r&4)!==0,nt=!le&&t==="scroll",O=le?q!==null?q+"Capture":null:q;le=[];for(var P=z,F;P!==null;){F=P;var X=F.stateNode;if(F.tag===5&&X!==null&&(F=X,O!==null&&(X=tt(P,O),X!=null&&le.push(So(P,X,F)))),nt)break;P=P.return}0<le.length&&(q=new re(q,ae,null,o,Q),G.push({event:q,listeners:le}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",q&&o!==ri&&(ae=o.relatedTarget||o.fromElement)&&(gi(ae)||ae[sr]))break e;if((re||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=z,ae=ae?gi(ae):null,ae!==null&&(nt=vn(ae),ae!==nt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=z),re!==ae)){if(le=rs,X="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(le=_,X="onPointerLeave",O="onPointerEnter",P="pointer"),nt=re==null?q:ds(re),F=ae==null?q:ds(ae),q=new le(X,P+"leave",re,o,Q),q.target=nt,q.relatedTarget=F,X=null,gi(Q)===z&&(le=new le(O,P+"enter",ae,o,Q),le.target=F,le.relatedTarget=nt,X=le),nt=X,re&&ae)t:{for(le=re,O=ae,P=0,F=le;F;F=hs(F))P++;for(F=0,X=O;X;X=hs(X))F++;for(;0<P-F;)le=hs(le),P--;for(;0<F-P;)O=hs(O),F--;for(;P--;){if(le===O||O!==null&&le===O.alternate)break t;le=hs(le),O=hs(O)}le=null}else le=null;re!==null&&wf(G,q,re,le,!1),ae!==null&&nt!==null&&wf(G,nt,ae,le,!0)}}e:{if(q=z?ds(z):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var ue=yy;else if(Zh(q))if(tf)ue=wy;else{ue=_y;var fe=vy}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ue=Ey);if(ue&&(ue=ue(t,z))){ef(G,ue,o,Q);break e}fe&&fe(t,q,z),t==="focusout"&&(fe=q._wrapperState)&&fe.controlled&&q.type==="number"&&zi(q,"number",q.value)}switch(fe=z?ds(z):window,t){case"focusin":(Zh(fe)||fe.contentEditable==="true")&&(us=fe,Iu=z,wo=null);break;case"focusout":wo=Iu=us=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,cf(G,o,Q);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":cf(G,o,Q)}var de;if(it)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ls?Yh(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(mi&&o.locale!=="ko"&&(ls||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ls&&(de=po()):(Jt=Q,Zi="value"in Jt?Jt.value:Jt.textContent,ls=!0)),fe=Ma(z,ve),0<fe.length&&(ve=new yo(ve,t,null,o,Q),G.push({event:ve,listeners:fe}),de?ve.data=de:(de=Jh(o),de!==null&&(ve.data=de)))),(de=Zt?dy(t,o):py(t,o))&&(z=Ma(z,"onBeforeInput"),0<z.length&&(Q=new yo("onBeforeInput","beforeinput",null,o,Q),G.push({event:Q,listeners:z}),Q.data=de))}_f(G,r)})}function So(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ma(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=tt(t,o),p!=null&&u.unshift(So(t,p,h)),p=tt(t,r),p!=null&&u.push(So(t,p,h))),t=t.return}return u}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wf(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,C=w.alternate,z=w.stateNode;if(C!==null&&C===u)break;w.tag===5&&z!==null&&(w=z,h?(C=tt(o,p),C!=null&&y.unshift(So(o,C,w))):h||(C=tt(o,p),C!=null&&y.push(So(o,C,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var Py=/\r\n?/g,ky=/\u0000|\uFFFD/g;function Tf(t){return(typeof t=="string"?t:""+t).replace(Py,`
`).replace(ky,"")}function Oa(t,r,o){if(r=Tf(r),Tf(t)!==r&&o)throw Error(n(425))}function Fa(){}var Nu=null,Vu=null;function xu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,Ny=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Vy=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(t){return If.resolve(null).then(t).catch(xy)}:Du;function xy(t){setTimeout(function(){throw t})}function Lu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function kr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Sf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Un="__reactFiber$"+fs,Ao="__reactProps$"+fs,sr="__reactContainer$"+fs,Mu="__reactEvents$"+fs,Dy="__reactListeners$"+fs,Ly="__reactHandles$"+fs;function gi(t){var r=t[Un];if(r)return r;for(var o=t.parentNode;o;){if(r=o[sr]||o[Un]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Sf(t);t!==null;){if(o=t[Un])return o;t=Sf(t)}return r}t=o,o=t.parentNode}return null}function Co(t){return t=t[Un]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function za(t){return t[Ao]||null}var Ou=[],ps=-1;function Nr(t){return{current:t}}function qe(t){0>ps||(t.current=Ou[ps],Ou[ps]=null,ps--)}function $e(t,r){ps++,Ou[ps]=t.current,t.current=r}var Vr={},kt=Nr(Vr),$t=Nr(!1),yi=Vr;function ms(t,r){var o=t.type.contextTypes;if(!o)return Vr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function ba(){qe($t),qe(kt)}function Af(t,r,o){if(kt.current!==Vr)throw Error(n(168));$e(kt,r),$e($t,o)}function Cf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return te({},o,u)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,yi=kt.current,$e(kt,t),$e($t,$t.current),!0}function Rf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Cf(t,r,yi),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(kt),$e(kt,t)):qe($t),$e($t,o)}var or=null,Ba=!1,Fu=!1;function Pf(t){or===null?or=[t]:or.push(t)}function My(t){Ba=!0,Pf(t)}function xr(){if(!Fu&&or!==null){Fu=!0;var t=0,r=ke;try{var o=or;for(ke=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}or=null,Ba=!1}catch(h){throw or!==null&&(or=or.slice(t+1)),Ki(li,xr),h}finally{ke=r,Fu=!1}}return null}var gs=[],ys=0,ja=null,$a=0,un=[],cn=0,vi=null,ar=1,lr="";function _i(t,r){gs[ys++]=$a,gs[ys++]=ja,ja=t,$a=r}function kf(t,r,o){un[cn++]=ar,un[cn++]=lr,un[cn++]=vi,vi=t;var u=ar;t=lr;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,ar=1<<32-Ft(r)+h|o<<h|u,lr=p+t}else ar=1<<p|o<<h|u,lr=t}function zu(t){t.return!==null&&(_i(t,1),kf(t,1,0))}function bu(t){for(;t===ja;)ja=gs[--ys],gs[ys]=null,$a=gs[--ys],gs[ys]=null;for(;t===vi;)vi=un[--cn],un[cn]=null,lr=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null}var en=null,tn=null,We=!1,Cn=null;function Nf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Vf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,tn=kr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=vi!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,en=t,tn=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bu(t){if(We){var r=tn;if(r){var o=r;if(!Vf(t,r)){if(Uu(t))throw Error(n(418));r=kr(o.nextSibling);var u=en;r&&Vf(t,r)?Nf(u,o):(t.flags=t.flags&-4097|2,We=!1,en=t)}}else{if(Uu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,en=t}}}function xf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Ha(t){if(t!==en)return!1;if(!We)return xf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!xu(t.type,t.memoizedProps)),r&&(r=tn)){if(Uu(t))throw Df(),Error(n(418));for(;r;)Nf(t,r),r=kr(r.nextSibling)}if(xf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){tn=kr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}tn=null}}else tn=en?kr(t.stateNode.nextSibling):null;return!0}function Df(){for(var t=tn;t;)t=kr(t.nextSibling)}function vs(){tn=en=null,We=!1}function ju(t){Cn===null?Cn=[t]:Cn.push(t)}var Oy=Te.ReactCurrentBatchConfig;function Ro(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function qa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Lf(t){var r=t._init;return r(t._payload)}function Mf(t){function r(O,P){if(t){var F=O.deletions;F===null?(O.deletions=[P],O.flags|=16):F.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=Ur(O,P),O.index=0,O.sibling=null,O}function p(O,P,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<P?(O.flags|=2,P):F):(O.flags|=2,P)):(O.flags|=1048576,P)}function y(O){return t&&O.alternate===null&&(O.flags|=2),O}function w(O,P,F,X){return P===null||P.tag!==6?(P=Dc(F,O.mode,X),P.return=O,P):(P=h(P,F),P.return=O,P)}function C(O,P,F,X){var ue=F.type;return ue===k?Q(O,P,F.props.children,X,F.key):P!==null&&(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ee&&Lf(ue)===P.type)?(X=h(P,F.props),X.ref=Ro(O,P,F),X.return=O,X):(X=ml(F.type,F.key,F.props,null,O.mode,X),X.ref=Ro(O,P,F),X.return=O,X)}function z(O,P,F,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Lc(F,O.mode,X),P.return=O,P):(P=h(P,F.children||[]),P.return=O,P)}function Q(O,P,F,X,ue){return P===null||P.tag!==7?(P=Ri(F,O.mode,X,ue),P.return=O,P):(P=h(P,F),P.return=O,P)}function G(O,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Dc(""+P,O.mode,F),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ge:return F=ml(P.type,P.key,P.props,null,O.mode,F),F.ref=Ro(O,null,P),F.return=O,F;case Pe:return P=Lc(P,O.mode,F),P.return=O,P;case ee:var X=P._init;return G(O,X(P._payload),F)}if(Xn(P)||se(P))return P=Ri(P,O.mode,F,null),P.return=O,P;qa(O,P)}return null}function q(O,P,F,X){var ue=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:w(O,P,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ge:return F.key===ue?C(O,P,F,X):null;case Pe:return F.key===ue?z(O,P,F,X):null;case ee:return ue=F._init,q(O,P,ue(F._payload),X)}if(Xn(F)||se(F))return ue!==null?null:Q(O,P,F,X,null);qa(O,F)}return null}function re(O,P,F,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(F)||null,w(P,O,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Ge:return O=O.get(X.key===null?F:X.key)||null,C(P,O,X,ue);case Pe:return O=O.get(X.key===null?F:X.key)||null,z(P,O,X,ue);case ee:var fe=X._init;return re(O,P,F,fe(X._payload),ue)}if(Xn(X)||se(X))return O=O.get(F)||null,Q(P,O,X,ue,null);qa(P,X)}return null}function ae(O,P,F,X){for(var ue=null,fe=null,de=P,ve=P=0,Et=null;de!==null&&ve<F.length;ve++){de.index>ve?(Et=de,de=null):Et=de.sibling;var Me=q(O,de,F[ve],X);if(Me===null){de===null&&(de=Et);break}t&&de&&Me.alternate===null&&r(O,de),P=p(Me,P,ve),fe===null?ue=Me:fe.sibling=Me,fe=Me,de=Et}if(ve===F.length)return o(O,de),We&&_i(O,ve),ue;if(de===null){for(;ve<F.length;ve++)de=G(O,F[ve],X),de!==null&&(P=p(de,P,ve),fe===null?ue=de:fe.sibling=de,fe=de);return We&&_i(O,ve),ue}for(de=u(O,de);ve<F.length;ve++)Et=re(de,O,ve,F[ve],X),Et!==null&&(t&&Et.alternate!==null&&de.delete(Et.key===null?ve:Et.key),P=p(Et,P,ve),fe===null?ue=Et:fe.sibling=Et,fe=Et);return t&&de.forEach(function(Br){return r(O,Br)}),We&&_i(O,ve),ue}function le(O,P,F,X){var ue=se(F);if(typeof ue!="function")throw Error(n(150));if(F=ue.call(F),F==null)throw Error(n(151));for(var fe=ue=null,de=P,ve=P=0,Et=null,Me=F.next();de!==null&&!Me.done;ve++,Me=F.next()){de.index>ve?(Et=de,de=null):Et=de.sibling;var Br=q(O,de,Me.value,X);if(Br===null){de===null&&(de=Et);break}t&&de&&Br.alternate===null&&r(O,de),P=p(Br,P,ve),fe===null?ue=Br:fe.sibling=Br,fe=Br,de=Et}if(Me.done)return o(O,de),We&&_i(O,ve),ue;if(de===null){for(;!Me.done;ve++,Me=F.next())Me=G(O,Me.value,X),Me!==null&&(P=p(Me,P,ve),fe===null?ue=Me:fe.sibling=Me,fe=Me);return We&&_i(O,ve),ue}for(de=u(O,de);!Me.done;ve++,Me=F.next())Me=re(de,O,ve,Me.value,X),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?ve:Me.key),P=p(Me,P,ve),fe===null?ue=Me:fe.sibling=Me,fe=Me);return t&&de.forEach(function(mv){return r(O,mv)}),We&&_i(O,ve),ue}function nt(O,P,F,X){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ge:e:{for(var ue=F.key,fe=P;fe!==null;){if(fe.key===ue){if(ue=F.type,ue===k){if(fe.tag===7){o(O,fe.sibling),P=h(fe,F.props.children),P.return=O,O=P;break e}}else if(fe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ee&&Lf(ue)===fe.type){o(O,fe.sibling),P=h(fe,F.props),P.ref=Ro(O,fe,F),P.return=O,O=P;break e}o(O,fe);break}else r(O,fe);fe=fe.sibling}F.type===k?(P=Ri(F.props.children,O.mode,X,F.key),P.return=O,O=P):(X=ml(F.type,F.key,F.props,null,O.mode,X),X.ref=Ro(O,P,F),X.return=O,O=X)}return y(O);case Pe:e:{for(fe=F.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(O,P.sibling),P=h(P,F.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=Lc(F,O.mode,X),P.return=O,O=P}return y(O);case ee:return fe=F._init,nt(O,P,fe(F._payload),X)}if(Xn(F))return ae(O,P,F,X);if(se(F))return le(O,P,F,X);qa(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,F),P.return=O,O=P):(o(O,P),P=Dc(F,O.mode,X),P.return=O,O=P),y(O)):o(O,P)}return nt}var _s=Mf(!0),Of=Mf(!1),Qa=Nr(null),Wa=null,Es=null,$u=null;function Hu(){$u=Es=Wa=null}function qu(t){var r=Qa.current;qe(Qa),t._currentValue=r}function Qu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function ws(t,r){Wa=t,$u=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:r,next:null},Es===null){if(Wa===null)throw Error(n(308));Es=t,Wa.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return r}var Ei=null;function Wu(t){Ei===null?Ei=[t]:Ei.push(t)}function Ff(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Wu(r)):(o.next=h.next,h.next=o),r.interleaved=o,ur(t,u)}function ur(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Lr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ur(t,o)}return h=u.interleaved,h===null?(r.next=r,Wu(u)):(r.next=h.next,h.next=r),u.interleaved=r,ur(t,o)}function Ka(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ir(t,o)}}function bf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ga(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,z=C.next;C.next=null,y===null?p=z:y.next=z,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==y&&(w===null?Q.firstBaseUpdate=z:w.next=z,Q.lastBaseUpdate=C))}if(p!==null){var G=h.baseState;y=0,Q=z=C=null,w=p;do{var q=w.lane,re=w.eventTime;if((u&q)===q){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ae=t,le=w;switch(q=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){G=ae.call(re,G,q);break e}G=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,q=typeof ae=="function"?ae.call(re,G,q):ae,q==null)break e;G=te({},G,q);break e;case 2:Dr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[w]:q.push(w))}else re={eventTime:re,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(z=Q=re,C=G):Q=Q.next=re,y|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(Q===null&&(C=G),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ii|=y,t.lanes=y,t.memoizedState=G}}function Uf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Po={},Bn=Nr(Po),ko=Nr(Po),No=Nr(Po);function wi(t){if(t===Po)throw Error(n(174));return t}function Gu(t,r){switch($e(No,r),$e(ko,t),$e(Bn,Po),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe(Bn),$e(Bn,r)}function Ts(){qe(Bn),qe(ko),qe(No)}function Bf(t){wi(No.current);var r=wi(Bn.current),o=lt(r,t.type);r!==o&&($e(ko,t),$e(Bn,o))}function Xu(t){ko.current===t&&(qe(Bn),qe(ko))}var Ye=Nr(0);function Xa(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yu=[];function Ju(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var Ya=Te.ReactCurrentDispatcher,Zu=Te.ReactCurrentBatchConfig,Ti=0,Je=null,ct=null,vt=null,Ja=!1,Vo=!1,xo=0,Fy=0;function Nt(){throw Error(n(321))}function ec(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function tc(t,r,o,u,h,p){if(Ti=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ya.current=t===null||t.memoizedState===null?By:jy,t=o(u,h),Vo){p=0;do{if(Vo=!1,xo=0,25<=p)throw Error(n(301));p+=1,vt=ct=null,r.updateQueue=null,Ya.current=$y,t=o(u,h)}while(Vo)}if(Ya.current=tl,r=ct!==null&&ct.next!==null,Ti=0,vt=ct=Je=null,Ja=!1,r)throw Error(n(300));return t}function nc(){var t=xo!==0;return xo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=t:vt=vt.next=t,vt}function fn(){if(ct===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=vt===null?Je.memoizedState:vt.next;if(r!==null)vt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},vt===null?Je.memoizedState=vt=t:vt=vt.next=t}return vt}function Do(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,C=null,z=p;do{var Q=z.lane;if((Ti&Q)===Q)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:t(u,z.action);else{var G={lane:Q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(w=C=G,y=u):C=C.next=G,Je.lanes|=Q,Ii|=Q}z=z.next}while(z!==null&&z!==p);C===null?y=u:C.next=w,An(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=C,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Je.lanes|=p,Ii|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ic(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);An(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function jf(){}function $f(t,r){var o=Je,u=fn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,sc(Qf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Lo(9,qf.bind(null,o,u,h,r),void 0,null),_t===null)throw Error(n(349));(Ti&30)!==0||Hf(o,r,h)}return h}function Hf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function qf(t,r,o,u){r.value=o,r.getSnapshot=u,Wf(r)&&Kf(t)}function Qf(t,r,o){return o(function(){Wf(r)&&Kf(t)})}function Wf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function Kf(t){var r=ur(t,1);r!==null&&Nn(r,t,1,-1)}function Gf(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},r.queue=t,t=t.dispatch=Uy.bind(null,Je,t),[r.memoizedState,t]}function Lo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Xf(){return fn().memoizedState}function Za(t,r,o,u){var h=jn();Je.flags|=t,h.memoizedState=Lo(1|r,o,void 0,u===void 0?null:u)}function el(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ct!==null){var y=ct.memoizedState;if(p=y.destroy,u!==null&&ec(u,y.deps)){h.memoizedState=Lo(r,o,p,u);return}}Je.flags|=t,h.memoizedState=Lo(1|r,o,p,u)}function Yf(t,r){return Za(8390656,8,t,r)}function sc(t,r){return el(2048,8,t,r)}function Jf(t,r){return el(4,2,t,r)}function Zf(t,r){return el(4,4,t,r)}function ed(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function td(t,r,o){return o=o!=null?o.concat([t]):null,el(4,4,ed.bind(null,r,t),o)}function oc(){}function nd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function rd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ec(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function id(t,r,o){return(Ti&21)===0?(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o):(An(o,r)||(o=hi(),Je.lanes|=o,Ii|=o,t.baseState=!0),r)}function zy(t,r){var o=ke;ke=o!==0&&4>o?o:4,t(!0);var u=Zu.transition;Zu.transition={};try{t(!1),r()}finally{ke=o,Zu.transition=u}}function sd(){return fn().memoizedState}function by(t,r,o){var u=zr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},od(t))ad(r,o);else if(o=Ff(t,r,o,u),o!==null){var h=Ut();Nn(o,t,u,h),ld(o,r,u)}}function Uy(t,r,o){var u=zr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(od(t))ad(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,An(w,y)){var C=r.interleaved;C===null?(h.next=h,Wu(r)):(h.next=C.next,C.next=h),r.interleaved=h;return}}catch{}finally{}o=Ff(t,r,h,u),o!==null&&(h=Ut(),Nn(o,t,u,h),ld(o,r,u))}}function od(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function ad(t,r){Vo=Ja=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ld(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ir(t,o)}}var tl={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},By={readContext:hn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Yf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Za(4194308,4,ed.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Za(4194308,4,t,r)},useInsertionEffect:function(t,r){return Za(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=by.bind(null,Je,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:Gf,useDebugValue:oc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Gf(!1),r=t[0];return t=zy.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Je,h=jn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));(Ti&30)!==0||Hf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Yf(Qf.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,qf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=_t.identifierPrefix;if(We){var o=lr,u=ar;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=xo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Fy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},jy={readContext:hn,useCallback:nd,useContext:hn,useEffect:sc,useImperativeHandle:td,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rd,useReducer:rc,useRef:Xf,useState:function(){return rc(Do)},useDebugValue:oc,useDeferredValue:function(t){var r=fn();return id(r,ct.memoizedState,t)},useTransition:function(){var t=rc(Do)[0],r=fn().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:$f,useId:sd,unstable_isNewReconciler:!1},$y={readContext:hn,useCallback:nd,useContext:hn,useEffect:sc,useImperativeHandle:td,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rd,useReducer:ic,useRef:Xf,useState:function(){return ic(Do)},useDebugValue:oc,useDeferredValue:function(t){var r=fn();return ct===null?r.memoizedState=t:id(r,ct.memoizedState,t)},useTransition:function(){var t=ic(Do)[0],r=fn().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:$f,useId:sd,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function ac(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var nl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=zr(t),p=cr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Nn(r,t,h,u),Ka(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ut(),h=zr(t),p=cr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Nn(r,t,h,u),Ka(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ut(),u=zr(t),h=cr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Lr(t,h,u),r!==null&&(Nn(r,t,u,o),Ka(r,t,u))}};function ud(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!Eo(o,u)||!Eo(h,p):!0}function cd(t,r,o){var u=!1,h=Vr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=Ht(r)?yi:kt.current,u=r.contextTypes,p=(u=u!=null)?ms(t,h):Vr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=nl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function hd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&nl.enqueueReplaceState(r,r.state,null)}function lc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Ku(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=Ht(r)?yi:kt.current,h.context=ms(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ac(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&nl.enqueueReplaceState(h,h.state,null),Ga(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,r){try{var o="",u=r;do o+=Ae(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function uc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function cc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Hy=typeof WeakMap=="function"?WeakMap:Map;function fd(t,r,o){o=cr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ul||(ul=!0,Ac=u),cc(t,r)},o}function dd(t,r,o){o=cr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){cc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){cc(t,r),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function pd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Hy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=iv.bind(null,t,r,o),r.then(t,t))}function md(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function gd(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=cr(-1,1),r.tag=2,Lr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var qy=Te.ReactCurrentOwner,qt=!1;function bt(t,r,o,u){r.child=t===null?Of(r,null,o,u):_s(r,t.child,o,u)}function yd(t,r,o,u,h){o=o.render;var p=r.ref;return ws(r,h),u=tc(t,r,o,u,p,h),o=nc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,hr(t,r,h)):(We&&o&&zu(r),r.flags|=1,bt(t,r,u,h),r.child)}function vd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!xc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,_d(t,r,p,u,h)):(t=ml(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(y,u)&&t.ref===r.ref)return hr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function _d(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Eo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(qt=!0);else return r.lanes=t.lanes,hr(t,r,h)}return hc(t,r,o,u,h)}function Ed(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(As,nn),nn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(As,nn),nn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(As,nn),nn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(As,nn),nn|=u;return bt(t,r,h,o),r.child}function wd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function hc(t,r,o,u,h){var p=Ht(o)?yi:kt.current;return p=ms(r,p),ws(r,h),o=tc(t,r,o,u,p,h),u=nc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,hr(t,r,h)):(We&&u&&zu(r),r.flags|=1,bt(t,r,o,h),r.child)}function Td(t,r,o,u,h){if(Ht(o)){var p=!0;Ua(r)}else p=!1;if(ws(r,h),r.stateNode===null)il(t,r),cd(r,o,u),lc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var C=y.context,z=o.contextType;typeof z=="object"&&z!==null?z=hn(z):(z=Ht(o)?yi:kt.current,z=ms(r,z));var Q=o.getDerivedStateFromProps,G=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function";G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||C!==z)&&hd(r,y,u,z),Dr=!1;var q=r.memoizedState;y.state=q,Ga(r,u,y,h),C=r.memoizedState,w!==u||q!==C||$t.current||Dr?(typeof Q=="function"&&(ac(r,o,Q,u),C=r.memoizedState),(w=Dr||ud(r,o,w,u,q,C,z))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),y.props=u,y.state=C,y.context=z,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,zf(t,r),w=r.memoizedProps,z=r.type===r.elementType?w:Rn(r.type,w),y.props=z,G=r.pendingProps,q=y.context,C=o.contextType,typeof C=="object"&&C!==null?C=hn(C):(C=Ht(o)?yi:kt.current,C=ms(r,C));var re=o.getDerivedStateFromProps;(Q=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==G||q!==C)&&hd(r,y,u,C),Dr=!1,q=r.memoizedState,y.state=q,Ga(r,u,y,h);var ae=r.memoizedState;w!==G||q!==ae||$t.current||Dr?(typeof re=="function"&&(ac(r,o,re,u),ae=r.memoizedState),(z=Dr||ud(r,o,z,u,q,ae,C)||!1)?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ae,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ae,C)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),y.props=u,y.state=ae,y.context=C,u=z):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return fc(t,r,o,u,p,h)}function fc(t,r,o,u,h,p){wd(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Rf(r,o,!1),hr(t,r,p);u=r.stateNode,qy.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=_s(r,t.child,null,p),r.child=_s(r,null,w,p)):bt(t,r,w,p),r.memoizedState=u.state,h&&Rf(r,o,!0),r.child}function Id(t){var r=t.stateNode;r.pendingContext?Af(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Af(t,r.context,!1),Gu(t,r.containerInfo)}function Sd(t,r,o,u,h){return vs(),ju(h),r.flags|=256,bt(t,r,o,u),r.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,r,o){var u=r.pendingProps,h=Ye.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ye,h&1),t===null)return Bu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=gl(y,u,0,null),t=Ri(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=pc(o),r.memoizedState=dc,t):mc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Qy(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var C={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=Ur(h,C),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Ur(w,p):(p=Ri(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?pc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=dc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function mc(t,r){return r=gl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function rl(t,r,o,u){return u!==null&&ju(u),_s(r,t.child,null,o),t=mc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Qy(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=uc(Error(n(422))),rl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=gl({mode:"visible",children:u.children},h,0,null),p=Ri(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&_s(r,t.child,null,y),r.child.memoizedState=pc(y),r.memoizedState=dc,p);if((r.mode&1)===0)return rl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=uc(p,u,void 0),rl(t,r,y,u)}if(w=(y&t.childLanes)!==0,qt||w){if(u=_t,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ur(t,h),Nn(u,t,h,-1))}return Vc(),u=uc(Error(n(421))),rl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=sv.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,tn=kr(h.nextSibling),en=r,We=!0,Cn=null,t!==null&&(un[cn++]=ar,un[cn++]=lr,un[cn++]=vi,ar=t.id,lr=t.overflow,vi=r),r=mc(r,u.children),r.flags|=4096,r)}function Cd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Qu(t.return,r,o)}function gc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Rd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(bt(t,r,u.children,o),u=Ye.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cd(t,o,r);else if(t.tag===19)Cd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ye,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Xa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),gc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Xa(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}gc(r,!0,o,null,p);break;case"together":gc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function il(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function hr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ii|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Wy(t,r,o){switch(r.tag){case 3:Id(r),vs();break;case 5:Bf(r);break;case 1:Ht(r.type)&&Ua(r);break;case 4:Gu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Ye,Ye.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Ad(t,r,o):($e(Ye,Ye.current&1),t=hr(t,r,o),t!==null?t.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Rd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,Ed(t,r,o)}return hr(t,r,o)}var Pd,yc,kd,Nd;Pd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},yc=function(){},kd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,wi(Bn.current);var p=null;switch(o){case"input":h=ei(t,h),u=ei(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=Ks(t,h),u=Ks(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Fa)}eo(o,u);var y;o=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var w=h[z];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in u){var C=u[z];if(w=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&C!==w&&(C!=null||w!=null))if(z==="style")if(w){for(y in w)!w.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in C)C.hasOwnProperty(y)&&w[y]!==C[y]&&(o||(o={}),o[y]=C[y])}else o||(p||(p=[]),p.push(z,o)),o=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(p=p||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&He("scroll",t),p||w===C||(p=[])):(p=p||[]).push(z,C))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Nd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Mo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ky(t,r,o){var u=r.pendingProps;switch(bu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Ht(r.type)&&ba(),Vt(r),null;case 3:return u=r.stateNode,Ts(),qe($t),qe(kt),Ju(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cn!==null&&(Pc(Cn),Cn=null))),yc(t,r),Vt(r),null;case 5:Xu(r);var h=wi(No.current);if(o=r.type,t!==null&&r.stateNode!=null)kd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=wi(Bn.current),Ha(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Un]=r,u[Ao]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)He(To[h],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":Fi(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":bi(u,p),He("invalid",u)}eo(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&He("scroll",u)}switch(o){case"input":Gn(u),la(u,p,!0);break;case"textarea":Gn(u),Gs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Fa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[Un]=r,t[Ao]=u,Pd(t,r,!1,!1),r.stateNode=t;e:{switch(y=to(o,u),o){case"dialog":He("cancel",t),He("close",t),h=u;break;case"iframe":case"object":case"embed":He("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)He(To[h],t);h=u;break;case"source":He("error",t),h=u;break;case"img":case"image":case"link":He("error",t),He("load",t),h=u;break;case"details":He("toggle",t),h=u;break;case"input":Fi(t,u),h=ei(t,u),He("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),He("invalid",t);break;case"textarea":bi(t,u),h=Ks(t,u),He("invalid",t);break;default:h=u}eo(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var C=w[p];p==="style"?Js(t,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Xs(t,C)):p==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&vr(t,C):typeof C=="number"&&vr(t,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?C!=null&&p==="onScroll"&&He("scroll",t):C!=null&&ye(t,p,C,y))}switch(o){case"input":Gn(t),la(t,u,!1);break;case"textarea":Gn(t),Gs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Yn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Yn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)Nd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=wi(No.current),wi(Bn.current),Ha(r)){if(u=r.stateNode,o=r.memoizedProps,u[Un]=r,(p=u.nodeValue!==o)&&(t=en,t!==null))switch(t.tag){case 3:Oa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Un]=r,r.stateNode=u}return Vt(r),null;case 13:if(qe(Ye),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&tn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Df(),vs(),r.flags|=98560,p=!1;else if(p=Ha(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Un]=r}else vs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Cn!==null&&(Pc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ye.current&1)!==0?ht===0&&(ht=3):Vc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Ts(),yc(t,r),t===null&&Io(r.stateNode.containerInfo),Vt(r),null;case 10:return qu(r.type._context),Vt(r),null;case 17:return Ht(r.type)&&ba(),Vt(r),null;case 19:if(qe(Ye),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Mo(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=Xa(t),y!==null){for(r.flags|=128,Mo(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>Cs&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Xa(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!We)return Vt(r),null}else 2*je()-p.renderingStartTime>Cs&&o!==1073741824&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Ye.current,$e(Ye,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Nc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(nn&1073741824)!==0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Gy(t,r){switch(bu(r),r.tag){case 1:return Ht(r.type)&&ba(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ts(),qe($t),qe(kt),Ju(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Xu(r),null;case 13:if(qe(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));vs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ye),null;case 4:return Ts(),null;case 10:return qu(r.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var sl=!1,xt=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ss(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function vc(t,r,o){try{o()}catch(u){et(t,r,u)}}var Vd=!1;function Yy(t,r){if(Nu=Cr,t=uf(),Tu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,C=-1,z=0,Q=0,G=t,q=null;t:for(;;){for(var re;G!==o||h!==0&&G.nodeType!==3||(w=y+h),G!==p||u!==0&&G.nodeType!==3||(C=y+u),G.nodeType===3&&(y+=G.nodeValue.length),(re=G.firstChild)!==null;)q=G,G=re;for(;;){if(G===t)break t;if(q===o&&++z===h&&(w=y),q===p&&++Q===u&&(C=y),(re=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=re}o=w===-1||C===-1?null:{start:w,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vu={focusedElem:t,selectionRange:o},Cr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,nt=ae.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?le:Rn(r.type,le),nt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){et(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=Vd,Vd=!1,ae}function Oo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&vc(r,o,p)}h=h.next}while(h!==u)}}function ol(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function _c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function xd(t){var r=t.alternate;r!==null&&(t.alternate=null,xd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Un],delete r[Ao],delete r[Mu],delete r[Dy],delete r[Ly])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dd(t){return t.tag===5||t.tag===3||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fa));else if(u!==4&&(t=t.child,t!==null))for(Ec(t,r,o),t=t.sibling;t!==null;)Ec(t,r,o),t=t.sibling}function wc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(wc(t,r,o),t=t.sibling;t!==null;)wc(t,r,o),t=t.sibling}var St=null,Pn=!1;function Mr(t,r,o){for(o=o.child;o!==null;)Md(t,r,o),o=o.sibling}function Md(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 5:xt||Ss(o,r);case 6:var u=St,h=Pn;St=null,Mr(t,r,o),St=u,Pn=h,St!==null&&(Pn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Pn?(t=St,o=o.stateNode,t.nodeType===8?Lu(t.parentNode,o):t.nodeType===1&&Lu(t,o),In(t)):Lu(St,o.stateNode));break;case 4:u=St,h=Pn,St=o.stateNode.containerInfo,Pn=!0,Mr(t,r,o),St=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&vc(o,r,y),h=h.next}while(h!==u)}Mr(t,r,o);break;case 1:if(!xt&&(Ss(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){et(o,r,w)}Mr(t,r,o);break;case 21:Mr(t,r,o);break;case 22:o.mode&1?(xt=(u=xt)||o.memoizedState!==null,Mr(t,r,o),xt=u):Mr(t,r,o);break;default:Mr(t,r,o)}}function Od(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Xy),r.forEach(function(u){var h=ov.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:St=w.stateNode,Pn=!1;break e;case 3:St=w.stateNode.containerInfo,Pn=!0;break e;case 4:St=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(St===null)throw Error(n(160));Md(p,y,h),St=null,Pn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(z){et(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Fd(r,t),r=r.sibling}function Fd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),$n(t),u&4){try{Oo(3,t,t.return),ol(3,t)}catch(le){et(t,t.return,le)}try{Oo(5,t,t.return)}catch(le){et(t,t.return,le)}}break;case 1:kn(r,t),$n(t),u&512&&o!==null&&Ss(o,o.return);break;case 5:if(kn(r,t),$n(t),u&512&&o!==null&&Ss(o,o.return),t.flags&32){var h=t.stateNode;try{vr(h,"")}catch(le){et(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Qs(h,p),to(w,y);var z=to(w,p);for(y=0;y<C.length;y+=2){var Q=C[y],G=C[y+1];Q==="style"?Js(h,G):Q==="dangerouslySetInnerHTML"?Xs(h,G):Q==="children"?vr(h,G):ye(h,Q,G,z)}switch(w){case"input":Ws(h,p);break;case"textarea":Ui(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Yn(h,!!p.multiple,re,!1):q!==!!p.multiple&&(p.defaultValue!=null?Yn(h,!!p.multiple,p.defaultValue,!0):Yn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ao]=p}catch(le){et(t,t.return,le)}}break;case 6:if(kn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){et(t,t.return,le)}}break;case 3:if(kn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){et(t,t.return,le)}break;case 4:kn(r,t),$n(t);break;case 13:kn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Sc=je())),u&4&&Od(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(xt=(z=xt)||Q,kn(r,t),xt=z):kn(r,t),$n(t),u&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!Q&&(t.mode&1)!==0)for(oe=t,Q=t.child;Q!==null;){for(G=oe=Q;oe!==null;){switch(q=oe,re=q.child,q.tag){case 0:case 11:case 14:case 15:Oo(4,q,q.return);break;case 1:Ss(q,q.return);var ae=q.stateNode;if(typeof ae.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){et(u,o,le)}}break;case 5:Ss(q,q.return);break;case 22:if(q.memoizedState!==null){Ud(G);continue}}re!==null?(re.return=q,oe=re):Ud(G)}Q=Q.sibling}e:for(Q=null,G=t;;){if(G.tag===5){if(Q===null){Q=G;try{h=G.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=G.stateNode,C=G.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Ys("display",y))}catch(le){et(t,t.return,le)}}}else if(G.tag===6){if(Q===null)try{G.stateNode.nodeValue=z?"":G.memoizedProps}catch(le){et(t,t.return,le)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;Q===G&&(Q=null),G=G.return}Q===G&&(Q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:kn(r,t),$n(t),u&4&&Od(t);break;case 21:break;default:kn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Dd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(vr(h,""),u.flags&=-33);var p=Ld(t);wc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Ld(t);Ec(t,w,y);break;default:throw Error(n(161))}}catch(C){et(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Jy(t,r,o){oe=t,zd(t)}function zd(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||sl;if(!y){var w=h.alternate,C=w!==null&&w.memoizedState!==null||xt;w=sl;var z=xt;if(sl=y,(xt=C)&&!z)for(oe=h;oe!==null;)y=oe,C=y.child,y.tag===22&&y.memoizedState!==null?Bd(h):C!==null?(C.return=y,oe=C):Bd(h);for(;p!==null;)oe=p,zd(p),p=p.sibling;oe=h,sl=w,xt=z}bd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,oe=p):bd(t)}}function bd(t){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:xt||ol(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!xt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Uf(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Uf(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var Q=z.memoizedState;if(Q!==null){var G=Q.dehydrated;G!==null&&In(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xt||r.flags&512&&_c(r)}catch(q){et(r,r.return,q)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Ud(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Bd(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ol(4,r)}catch(C){et(r,o,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(C){et(r,h,C)}}var p=r.return;try{_c(r)}catch(C){et(r,p,C)}break;case 5:var y=r.return;try{_c(r)}catch(C){et(r,y,C)}}}catch(C){et(r,r.return,C)}if(r===t){oe=null;break}var w=r.sibling;if(w!==null){w.return=r.return,oe=w;break}oe=r.return}}var Zy=Math.ceil,al=Te.ReactCurrentDispatcher,Tc=Te.ReactCurrentOwner,dn=Te.ReactCurrentBatchConfig,Le=0,_t=null,st=null,At=0,nn=0,As=Nr(0),ht=0,Fo=null,Ii=0,ll=0,Ic=0,zo=null,Qt=null,Sc=0,Cs=1/0,fr=null,ul=!1,Ac=null,Or=null,cl=!1,Fr=null,hl=0,bo=0,Cc=null,fl=-1,dl=0;function Ut(){return(Le&6)!==0?je():fl!==-1?fl:fl=je()}function zr(t){return(t.mode&1)===0?1:(Le&2)!==0&&At!==0?At&-At:Oy.transition!==null?(dl===0&&(dl=hi()),dl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t)}function Nn(t,r,o,u){if(50<bo)throw bo=0,Cc=null,Error(n(185));Tr(t,o,u),((Le&2)===0||t!==_t)&&(t===_t&&((Le&2)===0&&(ll|=o),ht===4&&br(t,At)),Wt(t,u),o===1&&Le===0&&(r.mode&1)===0&&(Cs=je()+500,Ba&&xr()))}function Wt(t,r){var o=t.callbackNode;er(t,r);var u=ci(t,t===_t?At:0);if(u===0)o!==null&&ao(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ao(o),r===1)t.tag===0?My($d.bind(null,t)):Pf($d.bind(null,t)),Vy(function(){(Le&6)===0&&xr()}),o=null;else{switch(Sr(u)){case 1:o=li;break;case 4:o=_r;break;case 16:o=on;break;case 536870912:o=da;break;default:o=on}o=Yd(o,jd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function jd(t,r){if(fl=-1,dl=0,(Le&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Rs()&&t.callbackNode!==o)return null;var u=ci(t,t===_t?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=pl(t,u);else{r=u;var h=Le;Le|=2;var p=qd();(_t!==t||At!==r)&&(fr=null,Cs=je()+500,Ai(t,r));do try{nv();break}catch(w){Hd(t,w)}while(!0);Hu(),al.current=p,Le=h,st!==null?r=0:(_t=null,At=0,r=ht)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Rc(t,h))),r===1)throw o=Fo,Ai(t,0),br(t,u),Wt(t,je()),o;if(r===6)br(t,u);else{if(h=t.current.alternate,(u&30)===0&&!ev(h)&&(r=pl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Rc(t,p))),r===1))throw o=Fo,Ai(t,0),br(t,u),Wt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ci(t,Qt,fr);break;case 3:if(br(t,u),(u&130023424)===u&&(r=Sc+500-je(),10<r)){if(ci(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Du(Ci.bind(null,t,Qt,fr),r);break}Ci(t,Qt,fr);break;case 4:if(br(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Ft(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Zy(u/1960))-u,10<u){t.timeoutHandle=Du(Ci.bind(null,t,Qt,fr),u);break}Ci(t,Qt,fr);break;case 5:Ci(t,Qt,fr);break;default:throw Error(n(329))}}}return Wt(t,je()),t.callbackNode===o?jd.bind(null,t):null}function Rc(t,r){var o=zo;return t.current.memoizedState.isDehydrated&&(Ai(t,r).flags|=256),t=pl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Pc(r)),t}function Pc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function ev(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(t,r){for(r&=~Ic,r&=~ll,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function $d(t){if((Le&6)!==0)throw Error(n(327));Rs();var r=ci(t,0);if((r&1)===0)return Wt(t,je()),null;var o=pl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Rc(t,u))}if(o===1)throw o=Fo,Ai(t,0),br(t,r),Wt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ci(t,Qt,fr),Wt(t,je()),null}function kc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Cs=je()+500,Ba&&xr())}}function Si(t){Fr!==null&&Fr.tag===0&&(Le&6)===0&&Rs();var r=Le;Le|=1;var o=dn.transition,u=ke;try{if(dn.transition=null,ke=1,t)return t()}finally{ke=u,dn.transition=o,Le=r,(Le&6)===0&&xr()}}function Nc(){nn=As.current,qe(As)}function Ai(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ny(o)),st!==null)for(o=st.return;o!==null;){var u=o;switch(bu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ba();break;case 3:Ts(),qe($t),qe(kt),Ju();break;case 5:Xu(u);break;case 4:Ts();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:qu(u.type._context);break;case 22:case 23:Nc()}o=o.return}if(_t=t,st=t=Ur(t.current,null),At=nn=r,ht=0,Fo=null,Ic=ll=Ii=0,Qt=zo=null,Ei!==null){for(r=0;r<Ei.length;r++)if(o=Ei[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}Ei=null}return t}function Hd(t,r){do{var o=st;try{if(Hu(),Ya.current=tl,Ja){for(var u=Je.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ja=!1}if(Ti=0,vt=ct=Je=null,Vo=!1,xo=0,Tc.current=null,o===null||o.return===null){ht=1,Fo=r,st=null;break}e:{var p=t,y=o.return,w=o,C=r;if(r=At,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,Q=w,G=Q.tag;if((Q.mode&1)===0&&(G===0||G===11||G===15)){var q=Q.alternate;q?(Q.updateQueue=q.updateQueue,Q.memoizedState=q.memoizedState,Q.lanes=q.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=md(y);if(re!==null){re.flags&=-257,gd(re,y,w,p,r),re.mode&1&&pd(p,z,r),r=re,C=z;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(C),r.updateQueue=le}else ae.add(C);break e}else{if((r&1)===0){pd(p,z,r),Vc();break e}C=Error(n(426))}}else if(We&&w.mode&1){var nt=md(y);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),gd(nt,y,w,p,r),ju(Is(C,w));break e}}p=C=Is(C,w),ht!==4&&(ht=2),zo===null?zo=[p]:zo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=fd(p,C,r);bf(p,O);break e;case 1:w=C;var P=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Or===null||!Or.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=dd(p,w,r);bf(p,X);break e}}p=p.return}while(p!==null)}Wd(o)}catch(ue){r=ue,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function qd(){var t=al.current;return al.current=tl,t===null?tl:t}function Vc(){(ht===0||ht===3||ht===2)&&(ht=4),_t===null||(Ii&268435455)===0&&(ll&268435455)===0||br(_t,At)}function pl(t,r){var o=Le;Le|=2;var u=qd();(_t!==t||At!==r)&&(fr=null,Ai(t,r));do try{tv();break}catch(h){Hd(t,h)}while(!0);if(Hu(),Le=o,al.current=u,st!==null)throw Error(n(261));return _t=null,At=0,ht}function tv(){for(;st!==null;)Qd(st)}function nv(){for(;st!==null&&!ha();)Qd(st)}function Qd(t){var r=Xd(t.alternate,t,nn);t.memoizedProps=t.pendingProps,r===null?Wd(t):st=r,Tc.current=null}function Wd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Ky(o,r,nn),o!==null){st=o;return}}else{if(o=Gy(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,st=null;return}}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);ht===0&&(ht=5)}function Ci(t,r,o){var u=ke,h=dn.transition;try{dn.transition=null,ke=1,rv(t,r,o,u)}finally{dn.transition=h,ke=u}return null}function rv(t,r,o,u){do Rs();while(Fr!==null);if((Le&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===_t&&(st=_t=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||cl||(cl=!0,Yd(on,function(){return Rs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=dn.transition,dn.transition=null;var y=ke;ke=1;var w=Le;Le|=4,Tc.current=null,Yy(t,o),Fd(o,t),Iy(Vu),Cr=!!Nu,Vu=Nu=null,t.current=o,Jy(o),pu(),Le=w,ke=y,dn.transition=p}else t.current=o;if(cl&&(cl=!1,Fr=t,hl=h),p=t.pendingLanes,p===0&&(Or=null),pa(o.stateNode),Wt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ul)throw ul=!1,t=Ac,Ac=null,t;return(hl&1)!==0&&t.tag!==0&&Rs(),p=t.pendingLanes,(p&1)!==0?t===Cc?bo++:(bo=0,Cc=t):bo=0,xr(),null}function Rs(){if(Fr!==null){var t=Sr(hl),r=dn.transition,o=ke;try{if(dn.transition=null,ke=16>t?16:t,Fr===null)var u=!1;else{if(t=Fr,Fr=null,hl=0,(Le&6)!==0)throw Error(n(331));var h=Le;for(Le|=4,oe=t.current;oe!==null;){var p=oe,y=p.child;if((oe.flags&16)!==0){var w=p.deletions;if(w!==null){for(var C=0;C<w.length;C++){var z=w[C];for(oe=z;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:Oo(8,Q,p)}var G=Q.child;if(G!==null)G.return=Q,oe=G;else for(;oe!==null;){Q=oe;var q=Q.sibling,re=Q.return;if(xd(Q),Q===z){oe=null;break}if(q!==null){q.return=re,oe=q;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var nt=le.sibling;le.sibling=null,le=nt}while(le!==null)}}oe=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,oe=y;else e:for(;oe!==null;){if(p=oe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Oo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,oe=O;break e}oe=p.return}}var P=t.current;for(oe=P;oe!==null;){y=oe;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,oe=F;else e:for(y=P;oe!==null;){if(w=oe,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ol(9,w)}}catch(ue){et(w,w.return,ue)}if(w===y){oe=null;break e}var X=w.sibling;if(X!==null){X.return=w.return,oe=X;break e}oe=w.return}}if(Le=h,xr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ui,t)}catch{}u=!0}return u}finally{ke=o,dn.transition=r}}return!1}function Kd(t,r,o){r=Is(o,r),r=fd(t,r,1),t=Lr(t,r,1),r=Ut(),t!==null&&(Tr(t,1,r),Wt(t,r))}function et(t,r,o){if(t.tag===3)Kd(t,t,o);else for(;r!==null;){if(r.tag===3){Kd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){t=Is(o,t),t=dd(r,t,1),r=Lr(r,t,1),t=Ut(),r!==null&&(Tr(r,1,t),Wt(r,t));break}}r=r.return}}function iv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(At&o)===o&&(ht===4||ht===3&&(At&130023424)===At&&500>je()-Sc?Ai(t,0):Ic|=o),Wt(t,r)}function Gd(t,r){r===0&&((t.mode&1)===0?r=1:(r=Xi,Xi<<=1,(Xi&130023424)===0&&(Xi=4194304)));var o=Ut();t=ur(t,r),t!==null&&(Tr(t,r,o),Wt(t,o))}function sv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Gd(t,o)}function ov(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Gd(t,o)}var Xd;Xd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)qt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return qt=!1,Wy(t,r,o);qt=(t.flags&131072)!==0}else qt=!1,We&&(r.flags&1048576)!==0&&kf(r,$a,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;il(t,r),t=r.pendingProps;var h=ms(r,kt.current);ws(r,o),h=tc(null,r,u,t,h,o);var p=nc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,Ua(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ku(r),h.updater=nl,r.stateNode=h,h._reactInternals=r,lc(r,u,t,o),r=fc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&zu(r),bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(il(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=lv(u),t=Rn(u,t),h){case 0:r=hc(null,r,u,t,o);break e;case 1:r=Td(null,r,u,t,o);break e;case 11:r=yd(null,r,u,t,o);break e;case 14:r=vd(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),hc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Td(t,r,u,h,o);case 3:e:{if(Id(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,zf(t,r),Ga(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Is(Error(n(423)),r),r=Sd(t,r,u,o,h);break e}else if(u!==h){h=Is(Error(n(424)),r),r=Sd(t,r,u,o,h);break e}else for(tn=kr(r.stateNode.containerInfo.firstChild),en=r,We=!0,Cn=null,o=Of(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vs(),u===h){r=hr(t,r,o);break e}bt(t,r,u,o)}r=r.child}return r;case 5:return Bf(r),t===null&&Bu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,xu(u,h)?y=null:p!==null&&xu(u,p)&&(r.flags|=32),wd(t,r),bt(t,r,y,o),r.child;case 6:return t===null&&Bu(r),null;case 13:return Ad(t,r,o);case 4:return Gu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=_s(r,null,u,o):bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),yd(t,r,u,h,o);case 7:return bt(t,r,r.pendingProps,o),r.child;case 8:return bt(t,r,r.pendingProps.children,o),r.child;case 12:return bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,$e(Qa,u._currentValue),u._currentValue=y,p!==null)if(An(p.value,y)){if(p.children===h.children&&!$t.current){r=hr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var C=w.firstContext;C!==null;){if(C.context===u){if(p.tag===1){C=cr(-1,o&-o),C.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var Q=z.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),z.pending=C}}p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Qu(p.return,o,r),w.lanes|=o;break}C=C.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),Qu(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,ws(r,o),h=hn(h),u=u(h),r.flags|=1,bt(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),vd(t,r,u,h,o);case 15:return _d(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),il(t,r),r.tag=1,Ht(u)?(t=!0,Ua(r)):t=!1,ws(r,o),cd(r,u,h),lc(r,u,h,o),fc(null,r,u,!0,t,o);case 19:return Rd(t,r,o);case 22:return Ed(t,r,o)}throw Error(n(156,r.tag))};function Yd(t,r){return Ki(t,r)}function av(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new av(t,r,o,u)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lv(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===mt)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ml(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")xc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ri(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=pn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case I:return t=pn(13,o,r,h),t.elementType=I,t.lanes=p,t;case Xe:return t=pn(19,o,r,h),t.elementType=Xe,t.lanes=p,t;case ne:return gl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:y=10;break e;case N:y=9;break e;case L:y=11;break e;case mt:y=14;break e;case ee:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ri(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function gl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=ne,t.lanes=o,t.stateNode={isHidden:!1},t}function Dc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Lc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function uv(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wr(0),this.expirationTimes=wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Mc(t,r,o,u,h,p,y,w,C){return t=new uv(t,r,o,w,C),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(p),t}function cv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Jd(t){if(!t)return Vr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Cf(t,o,r)}return r}function Zd(t,r,o,u,h,p,y,w,C){return t=Mc(o,u,!0,t,h,p,y,w,C),t.context=Jd(null),o=t.current,u=Ut(),h=zr(o),p=cr(u,h),p.callback=r??null,Lr(o,p,h),t.current.lanes=h,Tr(t,h,u),Wt(t,u),t}function yl(t,r,o,u){var h=r.current,p=Ut(),y=zr(h);return o=Jd(o),r.context===null?r.context=o:r.pendingContext=o,r=cr(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Lr(h,r,y),t!==null&&(Nn(t,h,y,p),Ka(t,h,y)),y}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ep(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Oc(t,r){ep(t,r),(t=t.alternate)&&ep(t,r)}function hv(){return null}var tp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}_l.prototype.render=Fc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));yl(t,r,null,null)},_l.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Si(function(){yl(null,t,null,null)}),r[sr]=null}};function _l(t){this._internalRoot=t}_l.prototype.unstable_scheduleHydration=function(t){if(t){var r=_a();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ta(t)}};function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function np(){}function fv(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var z=vl(y);p.call(z)}}var y=Zd(r,u,t,0,null,!1,!1,"",np);return t._reactRootContainer=y,t[sr]=y.current,Io(t.nodeType===8?t.parentNode:t),Si(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var z=vl(C);w.call(z)}}var C=Mc(t,0,!1,null,null,!1,!1,"",np);return t._reactRootContainer=C,t[sr]=C.current,Io(t.nodeType===8?t.parentNode:t),Si(function(){yl(r,C,o,u)}),C}function wl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var C=vl(y);w.call(C)}}yl(r,y,t,h)}else y=fv(o,r,t,h,u);return vl(y)}ya=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Er(r.pendingLanes);o!==0&&(Ir(r,o|1),Wt(r,je()),(Le&6)===0&&(Cs=je()+500,xr()))}break;case 13:Si(function(){var u=ur(t,1);if(u!==null){var h=Ut();Nn(u,t,1,h)}}),Oc(t,1)}},Yi=function(t){if(t.tag===13){var r=ur(t,134217728);if(r!==null){var o=Ut();Nn(r,t,134217728,o)}Oc(t,134217728)}},va=function(t){if(t.tag===13){var r=zr(t),o=ur(t,r);if(o!==null){var u=Ut();Nn(o,t,r,u)}Oc(t,r)}},_a=function(){return ke},Ea=function(t,r){var o=ke;try{return ke=t,r()}finally{ke=o}},ji=function(t,r,o){switch(r){case"input":if(Ws(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=za(u);if(!h)throw Error(n(90));Oi(u),Ws(u,h)}}}break;case"textarea":Ui(t,o);break;case"select":r=o.value,r!=null&&Yn(t,!!o.multiple,r,!1)}},ii=kc,ro=Si;var dv={usingClientEntryPoint:!1,Events:[Co,ds,za,Ln,no,kc]},Uo={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pv={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ui=Tl.inject(pv),Xt=Tl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv,Kt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(r))throw Error(n(200));return cv(t,r,null,o)},Kt.createRoot=function(t,r){if(!zc(t))throw Error(n(299));var o=!1,u="",h=tp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Mc(t,1,!1,null,null,o,!1,u,h),t[sr]=r.current,Io(t.nodeType===8?t.parentNode:t),new Fc(r)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=oo(r),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return Si(t)},Kt.hydrate=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!0,o)},Kt.hydrateRoot=function(t,r,o){if(!zc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=tp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Zd(r,null,t,1,o??null,h,!1,p,y),t[sr]=r.current,Io(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new _l(r)},Kt.render=function(t,r,o){if(!El(r))throw Error(n(200));return wl(null,t,r,!1,o)},Kt.unmountComponentAtNode=function(t){if(!El(t))throw Error(n(40));return t._reactRootContainer?(Si(function(){wl(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1},Kt.unstable_batchedUpdates=kc,Kt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!El(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return wl(t,r,o,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var lp;function Ev(){if(lp)return Uc.exports;lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Uc.exports=_v(),Uc.exports}var up;function wv(){if(up)return Il;up=1;var i=Ev();return Il.createRoot=i.createRoot,Il.hydrateRoot=i.hydrateRoot,Il}var Tv=wv();const Iv=Sm(Tv);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cm=(...i)=>i.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Lt.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:f,...g},v)=>Lt.createElement("svg",{ref:v,...Av,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Cm("lucide",a),...g},[...f.map(([E,S])=>Lt.createElement(E,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(i,e)=>{const n=Lt.forwardRef(({className:s,...a},c)=>Lt.createElement(Cv,{ref:c,iconNode:e,className:Cm(`lucide-${Sv(i)}`,s),...a}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=rn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=rn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=rn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=rn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=rn("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=rn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=rn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=rn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ov=()=>{};var pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Fv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],g=i[n++],v=((a&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Pm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,g=f?i[a+1]:0,v=a+2<i.length,E=v?i[a+2]:0,S=c>>2,V=(c&3)<<4|g>>4;let D=(g&15)<<2|E>>6,j=E&63;v||(j=64,f||(D=64)),s.push(n[S],n[V],n[D],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Rm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Fv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const V=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||E==null||V==null)throw new zv;const D=c<<2|g>>4;if(s.push(D),E!==64){const j=g<<4&240|E>>2;if(s.push(j),V!==64){const Y=E<<6&192|V;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bv=function(i){const e=Rm(i);return Pm.encodeByteArray(e,!0)},Ol=function(i){return bv(i).replace(/\./g,"")},Uv=function(i){try{return Pm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=()=>Bv().__FIREBASE_DEFAULTS__,$v=()=>{if(typeof process>"u"||typeof pp>"u")return;const i=pp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Hv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Uv(i[1]);return e&&JSON.parse(e)},vh=()=>{try{return Ov()||jv()||$v()||Hv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qv=i=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Qv=i=>{const e=qv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},km=()=>{var i;return(i=vh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i){return i.endsWith(".cloudworkstations.dev")}async function Kv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ol(JSON.stringify(n)),Ol(JSON.stringify(f)),""].join(".")}const Ho={};function Xv(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ho))Ho[e]?i.emulator.push(e):i.prod.push(e);return i}function Yv(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let mp=!1;function Jv(i,e){if(typeof window>"u"||typeof document>"u"||!_h(window.location.host)||Ho[i]===e||Ho[i]||mp)return;Ho[i]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=Xv().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,j){D.setAttribute("width","24"),D.setAttribute("id",j),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function E(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{mp=!0,f()},D}function S(D,j){D.setAttribute("id",j),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function V(){const D=Yv(s),j=n("text"),Y=document.getElementById(j)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),we=n("preprendIcon"),me=document.getElementById(we)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ye=D.element;g(ye),S(W,J);const Te=E();v(me,we),ye.append(me,Y,W,Te),document.body.appendChild(ye)}c?(Y.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e_(){var i;const e=(i=vh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t_(){return!e_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n_(){try{return typeof indexedDB=="object"}catch{return!1}}function r_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="FirebaseError";class Bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=i_,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?s_(c,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new Bs(a,g,s)}}function s_(i,e){return i.replace(o_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const o_=/\{\$([^}]+)}/g;function Fl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(gp(c)&&gp(f)){if(!Fl(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function gp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(i){return i&&i._delegate?i._delegate:i}class Xo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Wv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u_(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l_(i){return i===Pi?void 0:i}function u_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const h_={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},f_=De.INFO,d_={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},p_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=d_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=f_,this._logHandler=p_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const m_=(i,e)=>e.some(n=>i instanceof n);let yp,vp;function g_(){return yp||(yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y_(){return vp||(vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,Yc=new WeakMap,Dm=new WeakMap,$c=new WeakMap,Eh=new WeakMap;function v_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n($r(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&xm.set(n,i)}).catch(()=>{}),Eh.set(e,i),e}function __(i){if(Yc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Yc.set(i,e)}let Jc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Yc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Dm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function E_(i){Jc=i(Jc)}function w_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hc(this),e,...n);return Dm.set(s,e.sort?e.sort():[e]),$r(s)}:y_().includes(i)?function(...e){return i.apply(Hc(this),e),$r(xm.get(this))}:function(...e){return $r(i.apply(Hc(this),e))}}function T_(i){return typeof i=="function"?w_(i):(i instanceof IDBTransaction&&__(i),m_(i,g_())?new Proxy(i,Jc):i)}function $r(i){if(i instanceof IDBRequest)return v_(i);if($c.has(i))return $c.get(i);const e=T_(i);return e!==i&&($c.set(i,e),Eh.set(e,i)),e}const Hc=i=>Eh.get(i);function I_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),g=$r(f);return s&&f.addEventListener("upgradeneeded",v=>{s($r(f.result),v.oldVersion,v.newVersion,$r(f.transaction),v)}),n&&f.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const S_=["get","getKey","getAll","getAllKeys","count"],A_=["put","add","delete","clear"],qc=new Map;function _p(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qc.get(e))return qc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=A_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||S_.includes(n)))return;const c=async function(f,...g){const v=this.transaction(f,a?"readwrite":"readonly");let E=v.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),a&&v.done]))[0]};return qc.set(e,c),c}E_(i=>({...i,get:(e,n,s)=>_p(e,n)||i.get(e,n,s),has:(e,n)=>!!_p(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function R_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zc="@firebase/app",Ep="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Vm("@firebase/app"),P_="@firebase/app-compat",k_="@firebase/analytics-compat",N_="@firebase/analytics",V_="@firebase/app-check-compat",x_="@firebase/app-check",D_="@firebase/auth",L_="@firebase/auth-compat",M_="@firebase/database",O_="@firebase/data-connect",F_="@firebase/database-compat",z_="@firebase/functions",b_="@firebase/functions-compat",U_="@firebase/installations",B_="@firebase/installations-compat",j_="@firebase/messaging",$_="@firebase/messaging-compat",H_="@firebase/performance",q_="@firebase/performance-compat",Q_="@firebase/remote-config",W_="@firebase/remote-config-compat",K_="@firebase/storage",G_="@firebase/storage-compat",X_="@firebase/firestore",Y_="@firebase/ai",J_="@firebase/firestore-compat",Z_="firebase",eE="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",tE={[Zc]:"fire-core",[P_]:"fire-core-compat",[N_]:"fire-analytics",[k_]:"fire-analytics-compat",[x_]:"fire-app-check",[V_]:"fire-app-check-compat",[D_]:"fire-auth",[L_]:"fire-auth-compat",[M_]:"fire-rtdb",[O_]:"fire-data-connect",[F_]:"fire-rtdb-compat",[z_]:"fire-fn",[b_]:"fire-fn-compat",[U_]:"fire-iid",[B_]:"fire-iid-compat",[j_]:"fire-fcm",[$_]:"fire-fcm-compat",[H_]:"fire-perf",[q_]:"fire-perf-compat",[Q_]:"fire-rc",[W_]:"fire-rc-compat",[K_]:"fire-gcs",[G_]:"fire-gcs-compat",[X_]:"fire-fst",[J_]:"fire-fst-compat",[Y_]:"fire-vertex","fire-js":"fire-js",[Z_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,nE=new Map,th=new Map;function wp(i,e){try{i.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bl(i){const e=i.name;if(th.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,i);for(const n of zl.values())wp(n,i);for(const n of nE.values())wp(n,i);return!0}function rE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function iE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Nm("app","Firebase",sE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=eE;function Lm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:eh,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=km()),!n)throw Hr.create("no-options");const c=zl.get(a);if(c){if(Fl(n,c.options)&&Fl(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new c_(a);for(const v of th.values())f.addComponent(v);const g=new oE(n,s,f);return zl.set(a,g),g}function lE(i=eh){const e=zl.get(i);if(!e&&i===eh&&km())return Lm();if(!e)throw Hr.create("no-app",{appName:i});return e}function xs(i,e,n){var s;let a=(s=tE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(g.join(" "));return}bl(new Xo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebase-heartbeat-database",cE=1,Yo="firebase-heartbeat-store";let Qc=null;function Mm(){return Qc||(Qc=I_(uE,cE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Qc}async function hE(i){try{const n=(await Mm()).transaction(Yo),s=await n.objectStore(Yo).get(Om(i));return await n.done,s}catch(e){if(e instanceof Bs)pr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function Tp(i,e){try{const s=(await Mm()).transaction(Yo,"readwrite");await s.objectStore(Yo).put(e,Om(i)),await s.done}catch(n){if(n instanceof Bs)pr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(s.message)}}}function Om(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1024,dE=30;class pE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ip();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>dE){const f=yE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ip(),{heartbeatsToSend:s,unsentEntries:a}=mE(this._heartbeatsCache.heartbeats),c=Ol(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return pr.warn(n),""}}}function Ip(){return new Date().toISOString().substring(0,10)}function mE(i,e=fE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Sp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n_()?r_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sp(i){return Ol(JSON.stringify({version:2,heartbeats:i})).length}function yE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i){bl(new Xo("platform-logger",e=>new C_(e),"PRIVATE")),bl(new Xo("heartbeat",e=>new pE(e),"PRIVATE")),xs(Zc,Ep,i),xs(Zc,Ep,"esm2017"),xs("fire-js","")}vE("");var _E="firebase",EE="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(_E,EE,"app");var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,Fm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(R,N,L){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return T.prototype[N].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)R[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],N=k.g[2];var L=k.g[3],I=T+(L^A&(N^L))+R[0]+3614090360&4294967295;T=A+(I<<7&4294967295|I>>>25),I=L+(N^T&(A^N))+R[1]+3905402710&4294967295,L=T+(I<<12&4294967295|I>>>20),I=N+(A^L&(T^A))+R[2]+606105819&4294967295,N=L+(I<<17&4294967295|I>>>15),I=A+(T^N&(L^T))+R[3]+3250441966&4294967295,A=N+(I<<22&4294967295|I>>>10),I=T+(L^A&(N^L))+R[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(N^T&(A^N))+R[5]+1200080426&4294967295,L=T+(I<<12&4294967295|I>>>20),I=N+(A^L&(T^A))+R[6]+2821735955&4294967295,N=L+(I<<17&4294967295|I>>>15),I=A+(T^N&(L^T))+R[7]+4249261313&4294967295,A=N+(I<<22&4294967295|I>>>10),I=T+(L^A&(N^L))+R[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(N^T&(A^N))+R[9]+2336552879&4294967295,L=T+(I<<12&4294967295|I>>>20),I=N+(A^L&(T^A))+R[10]+4294925233&4294967295,N=L+(I<<17&4294967295|I>>>15),I=A+(T^N&(L^T))+R[11]+2304563134&4294967295,A=N+(I<<22&4294967295|I>>>10),I=T+(L^A&(N^L))+R[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(N^T&(A^N))+R[13]+4254626195&4294967295,L=T+(I<<12&4294967295|I>>>20),I=N+(A^L&(T^A))+R[14]+2792965006&4294967295,N=L+(I<<17&4294967295|I>>>15),I=A+(T^N&(L^T))+R[15]+1236535329&4294967295,A=N+(I<<22&4294967295|I>>>10),I=T+(N^L&(A^N))+R[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^N&(T^A))+R[6]+3225465664&4294967295,L=T+(I<<9&4294967295|I>>>23),I=N+(T^A&(L^T))+R[11]+643717713&4294967295,N=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(N^L))+R[0]+3921069994&4294967295,A=N+(I<<20&4294967295|I>>>12),I=T+(N^L&(A^N))+R[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^N&(T^A))+R[10]+38016083&4294967295,L=T+(I<<9&4294967295|I>>>23),I=N+(T^A&(L^T))+R[15]+3634488961&4294967295,N=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(N^L))+R[4]+3889429448&4294967295,A=N+(I<<20&4294967295|I>>>12),I=T+(N^L&(A^N))+R[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^N&(T^A))+R[14]+3275163606&4294967295,L=T+(I<<9&4294967295|I>>>23),I=N+(T^A&(L^T))+R[3]+4107603335&4294967295,N=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(N^L))+R[8]+1163531501&4294967295,A=N+(I<<20&4294967295|I>>>12),I=T+(N^L&(A^N))+R[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^N&(T^A))+R[2]+4243563512&4294967295,L=T+(I<<9&4294967295|I>>>23),I=N+(T^A&(L^T))+R[7]+1735328473&4294967295,N=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(N^L))+R[12]+2368359562&4294967295,A=N+(I<<20&4294967295|I>>>12),I=T+(A^N^L)+R[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^N)+R[8]+2272392833&4294967295,L=T+(I<<11&4294967295|I>>>21),I=N+(L^T^A)+R[11]+1839030562&4294967295,N=L+(I<<16&4294967295|I>>>16),I=A+(N^L^T)+R[14]+4259657740&4294967295,A=N+(I<<23&4294967295|I>>>9),I=T+(A^N^L)+R[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^N)+R[4]+1272893353&4294967295,L=T+(I<<11&4294967295|I>>>21),I=N+(L^T^A)+R[7]+4139469664&4294967295,N=L+(I<<16&4294967295|I>>>16),I=A+(N^L^T)+R[10]+3200236656&4294967295,A=N+(I<<23&4294967295|I>>>9),I=T+(A^N^L)+R[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^N)+R[0]+3936430074&4294967295,L=T+(I<<11&4294967295|I>>>21),I=N+(L^T^A)+R[3]+3572445317&4294967295,N=L+(I<<16&4294967295|I>>>16),I=A+(N^L^T)+R[6]+76029189&4294967295,A=N+(I<<23&4294967295|I>>>9),I=T+(A^N^L)+R[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^N)+R[12]+3873151461&4294967295,L=T+(I<<11&4294967295|I>>>21),I=N+(L^T^A)+R[15]+530742520&4294967295,N=L+(I<<16&4294967295|I>>>16),I=A+(N^L^T)+R[2]+3299628645&4294967295,A=N+(I<<23&4294967295|I>>>9),I=T+(N^(A|~L))+R[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~N))+R[7]+1126891415&4294967295,L=T+(I<<10&4294967295|I>>>22),I=N+(T^(L|~A))+R[14]+2878612391&4294967295,N=L+(I<<15&4294967295|I>>>17),I=A+(L^(N|~T))+R[5]+4237533241&4294967295,A=N+(I<<21&4294967295|I>>>11),I=T+(N^(A|~L))+R[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~N))+R[3]+2399980690&4294967295,L=T+(I<<10&4294967295|I>>>22),I=N+(T^(L|~A))+R[10]+4293915773&4294967295,N=L+(I<<15&4294967295|I>>>17),I=A+(L^(N|~T))+R[1]+2240044497&4294967295,A=N+(I<<21&4294967295|I>>>11),I=T+(N^(A|~L))+R[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~N))+R[15]+4264355552&4294967295,L=T+(I<<10&4294967295|I>>>22),I=N+(T^(L|~A))+R[6]+2734768916&4294967295,N=L+(I<<15&4294967295|I>>>17),I=A+(L^(N|~T))+R[13]+1309151649&4294967295,A=N+(I<<21&4294967295|I>>>11),I=T+(N^(A|~L))+R[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~N))+R[11]+3174756917&4294967295,L=T+(I<<10&4294967295|I>>>22),I=N+(T^(L|~A))+R[2]+718787259&4294967295,N=L+(I<<15&4294967295|I>>>17),I=A+(L^(N|~T))+R[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,R=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=A;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<T;)if(R[N++]=k.charCodeAt(L++),N==this.blockSize){a(this,R),N=0;break}}else for(;L<T;)if(R[N++]=k[L++],N==this.blockSize){a(this,R),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)k[A++]=this.g[T]>>>R&255;return k};function c(k,T){var A=g;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],R=!0,N=k.length-1;0<=N;N--){var L=k[N]|0;R&&L==T||(A[N]=L,R=!1)}this.g=A}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return V;if(0>k)return W(E(-k));for(var T=[],A=1,R=0;k>=A;R++)T[R]=k/A|0,A*=4294967296;return new f(T,0)}function S(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return W(S(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),R=V,N=0;N<k.length;N+=8){var L=Math.min(8,k.length-N),I=parseInt(k.substring(N,N+L),T);8>L?(L=E(Math.pow(T,L)),R=R.j(L).add(E(I))):(R=R.j(A),R=R.add(E(I)))}return R}var V=v(0),D=v(1),j=v(16777216);i=f.prototype,i.m=function(){if(J(this))return-W(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);k+=(0<=R?R:4294967296+R)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(J(this))return"-"+W(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,R="";;){var N=Te(A,T).g;A=we(A,N.j(T));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=N,Y(A))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function J(k){return k.h==-1}i.l=function(k){return k=we(this,k),J(k)?-1:Y(k)?0:1};function W(k){for(var T=k.g.length,A=[],R=0;R<T;R++)A[R]=~k.g[R];return new f(A,~k.h).add(D)}i.abs=function(){return J(this)?W(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],R=0,N=0;N<=T;N++){var L=R+(this.i(N)&65535)+(k.i(N)&65535),I=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);R=I>>>16,L&=65535,I&=65535,A[N]=I<<16|L}return new f(A,A[A.length-1]&-2147483648?-1:0)};function we(k,T){return k.add(W(T))}i.j=function(k){if(Y(this)||Y(k))return V;if(J(this))return J(k)?W(this).j(W(k)):W(W(this).j(k));if(J(k))return W(this.j(W(k)));if(0>this.l(j)&&0>k.l(j))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<k.g.length;N++){var L=this.i(R)>>>16,I=this.i(R)&65535,Xe=k.i(N)>>>16,mt=k.i(N)&65535;A[2*R+2*N]+=I*mt,me(A,2*R+2*N),A[2*R+2*N+1]+=L*mt,me(A,2*R+2*N+1),A[2*R+2*N+1]+=I*Xe,me(A,2*R+2*N+1),A[2*R+2*N+2]+=L*Xe,me(A,2*R+2*N+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new f(A,0)};function me(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ye(k,T){this.g=k,this.h=T}function Te(k,T){if(Y(T))throw Error("division by zero");if(Y(k))return new ye(V,V);if(J(k))return T=Te(W(k),T),new ye(W(T.g),W(T.h));if(J(T))return T=Te(k,W(T)),new ye(W(T.g),T.h);if(30<k.g.length){if(J(k)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var A=D,R=T;0>=R.l(k);)A=Ge(A),R=Ge(R);var N=Pe(A,1),L=Pe(R,1);for(R=Pe(R,2),A=Pe(A,2);!Y(R);){var I=L.add(R);0>=I.l(k)&&(N=N.add(A),L=I),R=Pe(R,1),A=Pe(A,1)}return T=we(k,N.j(T)),new ye(N,T)}for(N=V;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=E(A),I=L.j(T);J(I)||0<I.l(k);)A-=R,L=E(A),I=L.j(T);Y(L)&&(L=D),N=N.add(L),k=we(k,I)}return new ye(N,k)}i.A=function(k){return Te(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&k.i(R);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|k.i(R);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^k.i(R);return new f(A,this.h^k.h)};function Ge(k){for(var T=k.g.length+1,A=[],R=0;R<T;R++)A[R]=k.i(R)<<1|k.i(R-1)>>>31;return new f(A,k.h)}function Pe(k,T){var A=T>>5;T%=32;for(var R=k.g.length-A,N=[],L=0;L<R;L++)N[L]=0<T?k.i(L+A)>>>T|k.i(L+A+1)<<32-T:k.i(L+A);return new f(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Fm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=S,qr=f}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zm,Bo,bm,Nl,nh,Um,Bm,jm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sl=="object"&&Sl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var m=s;l=l.split(".");for(var _=0;_<l.length-1;_++){var M=l[_];if(!(M in m))break e;m=m[M]}l=l[l.length-1],_=m[l],d=d(_),d!=_&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var m=0,_=!1,M={next:function(){if(!_&&m<l.length){var b=m++;return{value:d(b,l[b]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function v(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function S(l,d,m){return l.call.apply(l.bind,arguments)}function V(l,d,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function D(l,d,m){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,D.apply(null,arguments)}function j(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function Y(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,M,b){for(var Z=Array(arguments.length-2),be=2;be<arguments.length;be++)Z[be-2]=arguments[be];return d.prototype[M].apply(_,Z)}}function J(l){const d=l.length;if(0<d){const m=Array(d);for(let _=0;_<d;_++)m[_]=l[_];return m}return[]}function W(l,d){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const M=l.length||0,b=_.length||0;l.length=M+b;for(let Z=0;Z<b;Z++)l[M+Z]=_[Z]}else l.push(_)}}class we{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function me(l){return/^[\s\xa0]*$/.test(l)}function ye(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function Te(l){return Te[" "](l),l}Te[" "]=function(){};var Ge=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function Pe(l,d,m){for(const _ in l)d.call(m,l[_],_,l)}function k(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function T(l){const d={};for(const m in l)d[m]=l[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,d){let m,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(m in _)l[m]=_[m];for(let b=0;b<A.length;b++)m=A[b],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function N(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function L(l){g.setTimeout(()=>{throw l},0)}function I(){var l=se;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Xe{constructor(){this.h=this.g=null}add(d,m){const _=mt.get();_.set(d,m),this.h?this.h.next=_:this.g=_,this.h=_}}var mt=new we(()=>new ee,l=>l.reset());class ee{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,H=!1,se=new Xe,te=()=>{const l=g.Promise.resolve(void 0);ne=()=>{l.then(x)}};var x=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){L(m)}var d=mt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}H=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return l}();function Ae(l,d){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ge){e:{try{Te(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ae.aa.h.call(this)}}Y(Ae,ce);var Ne={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,d,m,_,M){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!_,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gn(l){this.src=l,this.g={},this.h=0}Gn.prototype.add=function(l,d,m,_,M){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var Z=yr(l,d,_,M);return-1<Z?(d=l[Z],m||(d.fa=!1)):(d=new Be(d,this.src,b,!!_,M),d.fa=m,l.push(d)),d};function Oi(l,d){var m=d.type;if(m in l.g){var _=l.g[m],M=Array.prototype.indexOf.call(_,d,void 0),b;(b=0<=M)&&Array.prototype.splice.call(_,M,1),b&&(gt(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function yr(l,d,m,_){for(var M=0;M<l.length;++M){var b=l[M];if(!b.da&&b.listener==d&&b.capture==!!m&&b.ha==_)return M}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),Fi={};function Qs(l,d,m,_,M){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Qs(l,d[b],m,_,M);return null}return m=Gs(m),l&&l[Oe]?l.K(d,m,E(_)?!!_.capture:!1,M):Ws(l,d,m,!1,_,M)}function Ws(l,d,m,_,M,b){if(!d)throw Error("Invalid event type");var Z=E(M)?!!M.capture:!!M,be=bi(l);if(be||(l[ei]=be=new Gn(l)),m=be.add(d,m,_,Z,b),m.proxy)return m;if(_=la(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)Ie||(M=Z),M===void 0&&(M=!1),l.addEventListener(d.toString(),_,M);else if(l.attachEvent)l.attachEvent(Yn(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function la(){function l(m){return d.call(l.src,l.listener,m)}const d=Ks;return l}function zi(l,d,m,_,M){if(Array.isArray(d))for(var b=0;b<d.length;b++)zi(l,d[b],m,_,M);else _=E(_)?!!_.capture:!!_,m=Gs(m),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(b=l.g[d],m=yr(b,m,_,M),-1<m&&(gt(b[m]),Array.prototype.splice.call(b,m,1),b.length==0&&(delete l.g[d],l.h--)))):l&&(l=bi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=yr(d,m,_,M)),(m=-1<l?d[l]:null)&&Xn(m))}function Xn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Oi(d.i,l);else{var m=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(m,_,l.capture):d.detachEvent?d.detachEvent(Yn(m),_):d.addListener&&d.removeListener&&d.removeListener(_),(m=bi(d))?(Oi(m,l),m.h==0&&(m.src=null,d[ei]=null)):gt(l)}}}function Yn(l){return l in Fi?Fi[l]:Fi[l]="on"+l}function Ks(l,d){if(l.da)l=!0;else{d=new Ae(d,this);var m=l.listener,_=l.ha||l.src;l.fa&&Xn(l),l=m.call(_,d)}return l}function bi(l){return l=l[ei],l instanceof Gn?l:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(l){return typeof l=="function"?l:(l[Ui]||(l[Ui]=function(d){return l.handleEvent(d)}),l[Ui])}function at(){$.call(this),this.i=new Gn(this),this.M=this,this.F=null}Y(at,$),at.prototype[Oe]=!0,at.prototype.removeEventListener=function(l,d,m,_){zi(this,l,d,m,_)};function lt(l,d){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new ce(d,l);else if(d instanceof ce)d.target=d.target||l;else{var M=d;d=new ce(_,l),R(d,M)}if(M=!0,m)for(var b=m.length-1;0<=b;b--){var Z=d.g=m[b];M=Jn(Z,_,!0,d)&&M}if(Z=d.g=l,M=Jn(Z,_,!0,d)&&M,M=Jn(Z,_,!1,d)&&M,m)for(b=0;b<m.length;b++)Z=d.g=m[b],M=Jn(Z,_,!1,d)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],_=0;_<m.length;_++)gt(m[_]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,m,_){return this.i.add(String(l),d,!1,m,_)},at.prototype.L=function(l,d,m,_){return this.i.add(String(l),d,!0,m,_)};function Jn(l,d,m,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,b=0;b<d.length;++b){var Z=d[b];if(Z&&!Z.da&&Z.capture==m){var be=Z.listener,ut=Z.ha||Z.src;Z.fa&&Oi(l.i,Z),M=be.call(ut,_)!==!1&&M}}return M&&!_.defaultPrevented}function Xs(l,d,m){if(typeof l=="function")m&&(l=D(l,m));else if(l&&typeof l.handleEvent=="function")l=D(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(l,d||0)}function vr(l){l.g=Xs(()=>{l.g=null,l.i&&(l.i=!1,vr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ti extends ${constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(l){$.call(this),this.h=l,this.g={}}Y(ni,$);var Ys=[];function Js(l){Pe(l.g,function(d,m){this.g.hasOwnProperty(m)&&Xn(d)},l),l.g={}}ni.prototype.N=function(){ni.aa.N.call(this),Js(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=g.JSON.stringify,eo=g.JSON.parse,to=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function ri(){}ri.prototype.h=null;function Bi(l){return l.h||(l.h=l.i())}function ji(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){ce.call(this,"d")}Y(Dn,ce);function $i(){ce.call(this,"c")}Y($i,ce);var Ln={},no=null;function ii(){return no=no||new at}Ln.La="serverreachability";function ro(l){ce.call(this,Ln.La,l)}Y(ro,ce);function Zn(l){const d=ii();lt(d,new ro(d))}Ln.STAT_EVENT="statevent";function io(l,d){ce.call(this,Ln.STAT_EVENT,l),this.stat=d}Y(io,ce);function tt(l){const d=ii();lt(d,new io(d,l))}Ln.Ma="timingevent";function Hi(l,d){ce.call(this,Ln.Ma,l),this.size=d}Y(Hi,ce);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},d)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function oi(l,d,m,_,M,b){l.info(function(){if(l.g)if(b)for(var Z="",be=b.split("&"),ut=0;ut<be.length;ut++){var Ve=be[ut].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var it=yt.split("_");Z=2<=it.length&&it[1]=="type"?Z+(yt+"="+Ve+"&"):Z+(yt+"=redacted&")}}else Z=null;else Z=b;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+d+`
`+m+`
`+Z})}function qi(l,d,m,_,M,b,Z){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+d+`
`+m+`
`+b+" "+Z})}function yn(l,d,m,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+du(l,m)+(_?" "+_:"")})}function so(l,d){l.info(function(){return"TIMEOUT: "+d})}si.prototype.info=function(){};function du(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var b=M[0];if(b!="noop"&&b!="stop"&&b!="close")for(var Z=1;Z<M.length;Z++)M[Z]=""}}}}return Zs(m)}catch{return d}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function ai(){}Y(ai,ri),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},vn=new ai;function _n(l,d,m,_){this.j=l,this.i=d,this.l=m,this.R=_||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}var oo={},Wi={};function Ki(l,d,m){l.L=1,l.v=Ir(Yt(d)),l.m=m,l.P=!0,ao(l,null)}function ao(l,d){l.F=Date.now(),je(l),l.A=Yt(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Ar(m.i,"t",_),l.C=0,m=l.j.J,l.h=new ca,l.g=Pa(l.j,m?d:null,!l.m),0<l.O&&(l.M=new ti(D(l.Y,l,l.g),l.O)),d=l.U,m=l.g,_=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ys[0]=M.toString()),M=Ys);for(var b=0;b<M.length;b++){var Z=Qs(m,M[b],_||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Zn(),oi(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const it=jt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||it!=4||d==7||(d==8||0>=ln?Zn(3):Zn(2)),li(this);var m=this.g.Z();this.X=m;t:if(ha(this)){var _=po(this.g);l="";var M=_.length,b=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),_r(this);var Z="";break t}this.h.i=new g.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(b&&d==M-1)});_.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=m==200,qi(this.i,this.u,this.A,this.l,this.R,it,m),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ut=this.g;if((be=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(be)){var Ve=be;break t}}Ve=null}if(m=Ve)yn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,m);else{this.o=!1,this.s=3,tt(12),on(this),_r(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<Z.length;)if(Zt=pu(this,Z),Zt==Wi){it==4&&(this.s=4,tt(14),m=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==oo){this.s=4,tt(15),yn(this.i,this.l,Z,"[Invalid Chunk]"),m=!1;break}else yn(this.i,this.l,Zt,null),lo(this,Zt);if(ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||Z.length!=0||this.h.h||(this.s=1,tt(16),m=!1),this.o=this.o&&m,!m)yn(this.i,this.l,Z,"[Invalid Chunked Response]"),on(this),_r(this);else if(0<Z.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),go(yt),yt.M=!0,tt(11))}}else yn(this.i,this.l,Z,null),lo(this,Z);it==4&&on(this),this.o&&!this.J&&(it==4?ss(this.j,this):(this.o=!1,je(this)))}else es(this.g),m==400&&0<Z.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),on(this),_r(this)}}}catch{}finally{}};function ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pu(l,d){var m=l.C,_=d.indexOf(`
`,m);return _==-1?Wi:(m=Number(d.substring(m,_)),isNaN(m)?oo:(_+=1,_+m>d.length?Wi:(d=d.slice(_,_+m),l.C=_+m,d)))}_n.prototype.cancel=function(){this.J=!0,on(this)};function je(l){l.S=Date.now()+l.I,fa(l,l.I)}function fa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(D(l.ba,l),d)}function li(l){l.B&&(g.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(so(this.i,this.A),this.L!=2&&(Zn(),tt(17)),on(this),this.s=2,_r(this)):fa(this,this.S-l)};function _r(l){l.j.G==0||l.J||ss(l.j,l)}function on(l){li(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Js(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lo(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Ft(m.h,l))){if(!l.K&&Ft(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)is(m),Sn(m);else break e;rs(m),tt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=gn(D(m.Za,m),6e3));if(1>=pa(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ir(m,11)}else if((l.K||m.g==l)&&is(m),!me(d))for(M=m.Da.g.parse(d),d=0;d<M.length;d++){let Ve=M[d];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const yt=Ve[3];yt!=null&&(m.la=yt,m.j.info("VER="+m.la));const it=Ve[4];it!=null&&(m.Aa=it,m.j.info("SVER="+m.Aa));const ln=Ve[5];ln!=null&&typeof ln=="number"&&0<ln&&(_=1.5*ln,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Zt=l.g;if(Zt){const mi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var b=_.h;b.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(uo(b,b.h),b.h=null))}if(_.D){const as=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(_.ya=as,Ue(_.I,_.D,as))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var Z=l;if(_.qa=Ra(_,_.J?_.ia:null,_.W),Z.K){ma(_.h,Z);var be=Z,ut=_.L;ut&&(be.I=ut),be.B&&(li(be),je(be)),_.g=Z}else pi(_);0<m.i.length&&zn(m)}else Ve[0]!="stop"&&Ve[0]!="close"||ir(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ir(m,7):It(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}Zn(4)}catch{}}var da=class{constructor(l,d){this.g=l,this.map=d}};function ui(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pa(l){return l.h?1:l.g?l.g.size:0}function Ft(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uo(l,d){l.g?l.g.add(d):l.h=d}function ma(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ui.prototype.cancel=function(){if(this.i=ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return J(l.i)}function Gi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var d=[],m=l.length,_=0;_<m;_++)d.push(l[_]);return d}d=[],m=0;for(_ in l)d[m++]=l[_];return d}function Xi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const _ in l)d[m++]=_;return d}}}function Er(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=Xi(l),_=Gi(l),M=_.length,b=0;b<M;b++)d.call(void 0,_[b],m&&m[b],l)}var ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mu(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),M=null;if(0<=_){var b=l[m].substring(0,_);M=l[m].substring(_+1)}else b=l[m];d(b,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function er(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof er){this.h=l.h,hi(this,l.j),this.o=l.o,this.g=l.g,wr(this,l.s),this.l=l.l;var d=l.i,m=new Mn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Tr(this,m),this.m=l.m}else l&&(d=String(l).match(ci))?(this.h=!1,hi(this,d[1]||"",!0),this.o=ke(d[2]||""),this.g=ke(d[3]||"",!0),wr(this,d[4]),this.l=ke(d[5]||"",!0),Tr(this,d[6]||"",!0),this.m=ke(d[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}er.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sr(d,Yi,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sr(d,Yi,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Sr(m,m.charAt(0)=="/"?_a:va,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Sr(m,co)),l.join("")};function Yt(l){return new er(l)}function hi(l,d,m){l.j=m?ke(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function wr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Tr(l,d,m){d instanceof Mn?(l.i=d,On(l.i,l.h)):(m||(d=Sr(d,Ea)),l.i=new Mn(d,l.h))}function Ue(l,d,m){l.i.set(d,m)}function Ir(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ke(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,ya),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yi=/[#\/\?@]/g,va=/[#\?:]/g,_a=/[#\?]/g,Ea=/[#\?@]/g,co=/#/g;function Mn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&mu(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=Mn.prototype,i.add=function(l,d){Tt(this),this.i=null,l=an(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function En(l,d){Tt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Tt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(m,_){m.forEach(function(M){l.call(d,M,_,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let _=0;_<d.length;_++){const M=l[_];for(let b=0;b<M.length;b++)m.push(d[_])}return m},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=an(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ar(l,d,m){En(l,d),0<m.length&&(l.i=null,l.g.set(an(l,d),J(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var _=d[m];const b=encodeURIComponent(String(_)),Z=this.V(_);for(_=0;_<Z.length;_++){var M=b;Z[_]!==""&&(M+="="+encodeURIComponent(String(Z[_]))),l.push(M)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(m,_){var M=_.toLowerCase();_!=M&&(En(this,_),Ar(this,M,m))},l)),l.j=d}function gu(l,d){const m=new si;if(g.Image){const _=new Image;_.onload=j(Bt,m,"TestLoadImage: loaded",!0,d,_),_.onerror=j(Bt,m,"TestLoadImage: error",!1,d,_),_.onabort=j(Bt,m,"TestLoadImage: abort",!1,d,_),_.ontimeout=j(Bt,m,"TestLoadImage: timeout",!1,d,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function wa(l,d){const m=new si,_=new AbortController,M=setTimeout(()=>{_.abort(),Bt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(b=>{clearTimeout(M),b.ok?Bt(m,"TestPingServer: ok",!0,d):Bt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Bt(m,"TestPingServer: error",!1,d)})}function Bt(l,d,m,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(m)}catch{}}function yu(){this.g=new to}function Ta(l,d,m){const _=m||"";try{Er(l,function(M,b){let Z=M;E(M)&&(Z=Zs(M)),d.push(_+b+"="+encodeURIComponent(Z))})}catch(M){throw d.push(_+"type="+encodeURIComponent("_badmap")),M}}function tr(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(tr,ri),tr.prototype.g=function(){return new fi(this.l,this.j)},tr.prototype.i=function(l){return function(){return l}}({});function fi(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(fi,at),i=fi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ia(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ia(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Ia(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nr(l){let d="";return Pe(l,function(m,_){d+=_,d+=":",d+=m,d+=`\r
`}),d}function Cr(l,d,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=nr(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ue(l,d,m))}function Qe(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Qe,at);var vu=/^https?$/i,ho=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?Bi(this.o):Bi(vn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(b){di(this,b);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)m.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const b of _.keys())m.set(b,_.get(b));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(b=>b.toLowerCase()=="content-type"),M=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ho,d,void 0))||_||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,Z]of m)this.g.setRequestHeader(b,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){di(this,b)}};function di(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ji(l),Jt(l)}function Ji(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Xs(l.Ea,0,l);else if(lt(l,"readystatechange"),jt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var _;if(_=Z===0){var M=String(l.D).match(ci)[1]||null;!M&&g.self&&g.self.location&&(M=g.self.location.protocol.slice(0,-1)),_=!vu.test(M?M.toLowerCase():"")}m=_}if(m)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var b=2<jt(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",Ji(l)}}finally{Jt(l)}}}}function Jt(l,d){if(l.g){Zi(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{m.onreadystatechange=_}catch{}}}function Zi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),eo(d)}};function po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function es(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(me(l[_]))continue;var m=N(l[_]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const b=d[M]||[];d[M]=b,b.push(m)}k(d,function(_){return _.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function mo(l){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(l&&l.concurrentRequestLimit),this.Da=new yu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(l,d,m,_){tt(0),this.W=l,this.H=d||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=Ra(this,null,this.W),zn(this)};function It(l){if(ts(l),l.G==3){var d=l.U++,m=Yt(l.I);if(Ue(m,"SID",l.K),Ue(m,"RID",d),Ue(m,"TYPE","terminate"),rr(l,m),d=new _n(l,l.j,d),d.L=2,d.v=Ir(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=Pa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Ca(l)}function Sn(l){l.g&&(go(l),l.g.cancel(),l.g=null)}function ts(l){Sn(l),l.u&&(g.clearTimeout(l.u),l.u=null),is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function zn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ne||te(),H||(ne(),H=!0),se.add(d,l),l.B=0}}function _u(l,d){return pa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(D(l.Ga,l,d),Aa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new _n(this,this.j,l);let b=this.o;if(this.S&&(b?(b=T(b),R(b,this.S)):b=this.S),this.m!==null||this.O||(M.H=b,b=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Rr(this,M,d),m=Yt(this.I),Ue(m,"RID",l),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),rr(this,m),b&&(this.O?d="headers="+encodeURIComponent(String(nr(b)))+"&"+d:this.m&&Cr(m,this.m,b)),uo(this.h,M),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",d),Ue(m,"SID","null"),M.T=!0,Ki(M,m,null)):Ki(M,m,d),this.G=2}}else this.G==3&&(l?ns(this,l):this.i.length==0||Xt(this.h)||ns(this))};function ns(l,d){var m;d?m=d.l:m=l.U++;const _=Yt(l.I);Ue(_,"SID",l.K),Ue(_,"RID",m),Ue(_,"AID",l.T),rr(l,_),l.m&&l.o&&Cr(_,l.m,l.o),m=new _n(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Rr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uo(l.h,m),Ki(m,_,d)}function rr(l,d){l.H&&Pe(l.H,function(m,_){Ue(d,_,m)}),l.l&&Er({},function(m,_){Ue(d,_,m)})}function Rr(l,d,m){m=Math.min(l.i.length,m);var _=l.l?D(l.l.Na,l.l,l):null;e:{var M=l.i;let b=-1;for(;;){const Z=["count="+m];b==-1?0<m?(b=M[0].g,Z.push("ofs="+b)):b=0:Z.push("ofs="+b);let be=!0;for(let ut=0;ut<m;ut++){let Ve=M[ut].g;const yt=M[ut].map;if(Ve-=b,0>Ve)b=Math.max(0,M[ut].g-100),be=!1;else try{Ta(yt,Z,"req"+Ve+"_")}catch{_&&_(yt)}}if(be){_=Z.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,_}function pi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ne||te(),H||(ne(),H=!0),se.add(d,l),l.v=0}}function rs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(D(l.Fa,l),Aa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Sa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(D(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sn(this),Sa(this))};function go(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Sa(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Yt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),rr(l,d),l.m&&l.o&&Cr(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ir(Yt(d)),m.m=null,m.P=!0,ao(m,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),rs(this),tt(19))};function is(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function ss(l,d){var m=null;if(l.g==d){is(l),go(l),l.g=null;var _=2}else if(Ft(l.h,d))m=d.D,ma(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;_=ii(),lt(_,new Hi(_,m)),zn(l)}else pi(l);else if(M=d.s,M==3||M==0&&0<d.X||!(_==1&&_u(l,d)||_==2&&rs(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),M){case 1:ir(l,5);break;case 4:ir(l,10);break;case 3:ir(l,6);break;default:ir(l,2)}}}function Aa(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function ir(l,d){if(l.j.info("Error code "+d),d==2){var m=D(l.fb,l),_=l.Xa;const M=!_;_=new er(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||hi(_,"https"),Ir(_),M?gu(_.toString(),m):wa(_.toString(),m)}else tt(2);l.G=0,l.l&&l.l.sa(d),Ca(l),ts(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ca(l){if(l.G=0,l.ka=[],l.l){const d=ga(l.h);(d.length!=0||l.i.length!=0)&&(W(l.ka,d),W(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function Ra(l,d,m){var _=m instanceof er?Yt(m):new er(m);if(_.g!="")d&&(_.g=d+"."+_.g),wr(_,_.s);else{var M=g.location;_=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var b=new er(null);_&&hi(b,_),d&&(b.g=d),M&&wr(b,M),m&&(b.l=m),_=b}return m=l.D,d=l.ya,m&&d&&Ue(_,m,d),Ue(_,"VER",l.la),rr(l,_),_}function Pa(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new tr({eb:m})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function os(){}os.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){at.call(this),this.g=new mo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!me(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!me(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new bn(this)}Y(zt,at),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){It(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Zs(l),l=m);d.i.push(new da(d.Ya++,l)),d.G==3&&zn(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,zt.aa.N.call(this)};function ka(l){Dn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Y(ka,Dn);function Na(){$i.call(this),this.status=1}Y(Na,$i);function bn(l){this.g=l}Y(bn,yo),bn.prototype.ua=function(){lt(this.g,"a")},bn.prototype.ta=function(l){lt(this.g,new ka(l))},bn.prototype.sa=function(l){lt(this.g,new Na)},bn.prototype.ra=function(){lt(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,jm=function(){return new os},Bm=function(){return ii()},Um=Ln,nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Nl=Qi,ua.COMPLETE="complete",bm=ua,ji.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",at.prototype.listen=at.prototype.K,Bo=ji,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,zm=Qe}).apply(typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{});const Cp="@firebase/firestore",Rp="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Vm("@firebase/firestore");function Ps(){return Ni.logLevel}function ie(i,...e){if(Ni.logLevel<=De.DEBUG){const n=e.map(wh);Ni.debug(`Firestore (${js}): ${i}`,...n)}}function mr(i,...e){if(Ni.logLevel<=De.ERROR){const n=e.map(wh);Ni.error(`Firestore (${js}): ${i}`,...n)}}function Ls(i,...e){if(Ni.logLevel<=De.WARN){const n=e.map(wh);Ni.warn(`Firestore (${js}): ${i}`,...n)}}function wh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,$m(i,s,n)}function $m(i,e,n){let s=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function ze(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||$m(e,a,s)}function Ee(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class TE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IE{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let s=this.i;const a=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},g=v=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new Hm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class SE{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AE{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new SE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=RE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Se(i,e){return i<e?-1:i>e?1:0}function rh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Se(s,a);{const c=qm(),f=PE(c.encode(kp(i,n)),c.encode(kp(e,n)));return f!==0?f:Se(s,a)}}n+=s>65535?2:1}return Se(i.length,e.length)}function kp(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function PE(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Se(i[n],e[n]);return Se(i.length,e.length)}function Ms(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-62135596800,Vp=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vp);return new dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Np)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vp}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Np;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new dt(0,0))}static max(){return new _e(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="__name__";class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Hn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Se(e.length,n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):rh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class Ke extends Hn{construct(e,n,s){return new Ke(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const kE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Hn{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return kE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xp}static keyField(){return new Rt([xp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new he(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new he(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new he(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(c(),a++)}if(c(),f)throw new he(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ke.fromString(e))}static fromName(e){return new pe(Ke.fromString(e).popFirst(5))}static empty(){return new pe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;function NE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new Kr(a,pe.empty(),e)}function VE(i){return new Kr(i.readTime,i.key,Jo)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(_e.min(),pe.empty(),Jo)}static max(){return new Kr(_e.max(),pe.empty(),Jo)}}function xE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Se(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==DE)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,f=!1;e.forEach(g=>{++a,g.next(()=>{++c,f&&c===a&&n()},v=>s(v))}),f=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,f=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;n(e[E]).next(S=>{f[E]=S,++g,g===c&&s(f)},S=>a(S))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function ME(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zl.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function eu(i){return i==null}function Ul(i){return i===0&&1/i==-1/0}function OE(i){return typeof i=="number"&&Number.isInteger(i)&&!Ul(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="";function FE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Dp(e)),e=zE(i.get(n),e);return Dp(e)}function zE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Wm:n+="";break;default:n+=c}}return n}function Dp(i){return i+Wm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function xi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Km(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mp(this.data.getIterator())}getIteratorFrom(e){return new Mp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Mp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new pt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gm("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const bE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(i){if(ze(!!i,39018),typeof i=="string"){let e=0;const n=bE.exec(i);if(ze(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xr(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="server_timestamp",Ym="__type__",Jm="__previous_value__",Zm="__local_write_time__";function Ih(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ym])===null||n===void 0?void 0:n.stringValue)===Xm}function tu(i){const e=i.mapValue.fields[Jm];return Ih(e)?tu(e):e}function Zo(i){const e=Gr(i.mapValue.fields[Zm].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,s,a,c,f,g,v,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=S}}const Bl="(default)";class ea{constructor(e,n){this.projectId=e,this.database=n||Bl}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database===Bl}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="__type__",BE="__max__",Cl={mapValue:{}},tg="__vector__",jl="value";function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ih(i)?4:$E(i)?9007199254740991:jE(i)?10:11:ge(28295,{value:i})}function Wn(i,e){if(i===e)return!0;const n=Yr(i);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zo(i).isEqual(Zo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Gr(a.timestampValue),g=Gr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Xr(a.bytesValue).isEqual(Xr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return rt(a.geoPointValue.latitude)===rt(c.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return rt(a.integerValue)===rt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=rt(a.doubleValue),g=rt(c.doubleValue);return f===g?Ul(f)===Ul(g):isNaN(f)&&isNaN(g)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Lp(f)!==Lp(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!Wn(f[v],g[v])))return!1;return!0}(i,e);default:return ge(52216,{left:i})}}function ta(i,e){return(i.values||[]).find(n=>Wn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Yr(i),s=Yr(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(i.booleanValue,e.booleanValue);case 2:return function(c,f){const g=rt(c.integerValue||c.doubleValue),v=rt(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(i,e);case 3:return Op(i.timestampValue,e.timestampValue);case 4:return Op(Zo(i),Zo(e));case 5:return rh(i.stringValue,e.stringValue);case 6:return function(c,f){const g=Xr(c),v=Xr(f);return g.compareTo(v)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),v=f.split("/");for(let E=0;E<g.length&&E<v.length;E++){const S=Se(g[E],v[E]);if(S!==0)return S}return Se(g.length,v.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const g=Se(rt(c.latitude),rt(f.latitude));return g!==0?g:Se(rt(c.longitude),rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Fp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var g,v,E,S;const V=c.fields||{},D=f.fields||{},j=(g=V[jl])===null||g===void 0?void 0:g.arrayValue,Y=(v=D[jl])===null||v===void 0?void 0:v.arrayValue,J=Se(((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0,((S=Y==null?void 0:Y.values)===null||S===void 0?void 0:S.length)||0);return J!==0?J:Fp(j,Y)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Cl.mapValue&&f===Cl.mapValue)return 0;if(c===Cl.mapValue)return 1;if(f===Cl.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=f.fields||{},S=Object.keys(E);v.sort(),S.sort();for(let V=0;V<v.length&&V<S.length;++V){const D=rh(v[V],S[V]);if(D!==0)return D;const j=Os(g[v[V]],E[S[V]]);if(j!==0)return j}return Se(v.length,S.length)}(i.mapValue,e.mapValue);default:throw ge(23264,{Pe:n})}}function Op(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Se(i,e);const n=Gr(i),s=Gr(e),a=Se(n.seconds,s.seconds);return a!==0?a:Se(n.nanos,s.nanos)}function Fp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return Se(n.length,s.length)}function Fs(i){return ih(i)}function ih(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ih(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ih(n.fields[f])}`;return a+"}"}(i.mapValue):ge(61005,{value:i})}function Vl(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tu(i);return e?16+Vl(e):16;case 5:return 2*i.stringValue.length;case 6:return Xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Vl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return xi(s.fields,(c,f)=>{a+=c.length+Vl(f)}),a}(i.mapValue);default:throw ge(13486,{value:i})}}function sh(i){return!!i&&"integerValue"in i}function Sh(i){return!!i&&"arrayValue"in i}function zp(i){return!!i&&"nullValue"in i}function bp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xl(i){return!!i&&"mapValue"in i}function jE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[eg])===null||n===void 0?void 0:n.stringValue)===tg}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function $E(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=Rt.emptyPath(),s={},a=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const v=this.getFieldsMap(n);this.applyChanges(v,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=qo(f):a.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];xl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){xi(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new mn(qo(this.value))}}function ng(i){const e=[];return xi(i.fields,(n,s)=>{const a=new Rt([n]);if(xl(s)){const c=ng(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Ot(e,0,_e.min(),_e.min(),_e.min(),mn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,_e.min(),_e.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,_e.min(),_e.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.position=e,this.inclusive=n}}function Up(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function HE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{}class ft extends rg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QE(e,n,s):n==="array-contains"?new GE(e,s):n==="in"?new XE(e,s):n==="not-in"?new YE(e,s):n==="array-contains-any"?new JE(e,s):new ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WE(e,s):new KE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Os(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends rg{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kn(e,n)}matches(e){return ig(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ig(i){return i.op==="and"}function sg(i){return qE(i)&&ig(i)}function qE(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function oh(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+Fs(i.value);if(sg(i))return i.filters.map(e=>oh(e)).join(",");{const e=i.filters.map(n=>oh(n)).join(",");return`${i.op}(${e})`}}function og(i,e){return i instanceof ft?function(s,a){return a instanceof ft&&s.op===a.op&&s.field.isEqual(a.field)&&Wn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,g)=>c&&og(f,a.filters[g]),!0):!1}(i,e):void ge(19439)}function ag(i){return i instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ag).join(" ,")+"}"}(i):"Filter"}class QE extends ft{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class WE extends ft{constructor(e,n){super(e,"in",n),this.keys=lg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KE extends ft{constructor(e,n){super(e,"not-in",n),this.keys=lg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class GE extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sh(n)&&ta(n.arrayValue,this.value)}}class XE extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class YE extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ta(this.value.arrayValue,n)}}class JE extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n=null,s=[],a=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function jp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new ZE(i,e,n,s,a,c,f)}function Ah(i){const e=Ee(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>oh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fs(s)).join(",")),e.Ie=n}return e.Ie}function Ch(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!HE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!og(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bp(i.startAt,e.startAt)&&Bp(i.endAt,e.endAt)}function ah(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,s=[],a=[],c=null,f="F",g=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function e0(i,e,n,s,a,c,f,g){return new nu(i,e,n,s,a,c,f,g)}function ug(i){return new nu(i)}function $p(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function t0(i){return i.collectionGroup!==null}function Qo(i){const e=Ee(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new pt(Rt.comparator);return f.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Hl(c,s))}),n.has(Rt.keyField().canonicalString())||e.Ee.push(new Hl(Rt.keyField(),s))}return e.Ee}function qn(i){const e=Ee(i);return e.de||(e.de=n0(e,Qo(i))),e.de}function n0(i,e){if(i.limitType==="F")return jp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Hl(a.field,c)});const n=i.endAt?new $l(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $l(i.startAt.position,i.startAt.inclusive):null;return jp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function lh(i,e,n){return new nu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ru(i,e){return Ch(qn(i),qn(e))&&i.limitType===e.limitType}function cg(i){return`${Ah(qn(i))}|lt:${i.limitType}`}function ks(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>ag(a)).join(", ")}]`),eu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Fs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Fs(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function iu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Qo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,g,v){const E=Up(f,g,v);return f.inclusive?E<=0:E<0}(s.startAt,Qo(s),a)||s.endAt&&!function(f,g,v){const E=Up(f,g,v);return f.inclusive?E>=0:E>0}(s.endAt,Qo(s),a))}(i,e)}function r0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hg(i){return(e,n)=>{let s=!1;for(const a of Qo(i)){const c=i0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function i0(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(c,f,g){const v=f.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Os(v,E):ge(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Km(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Ze(pe.comparator);function gr(){return s0}const fg=new Ze(pe.comparator);function jo(...i){let e=fg;for(const n of i)e=e.insert(n.key,n);return e}function dg(i){let e=fg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ki(){return Wo()}function pg(){return Wo()}function Wo(){return new Di(i=>i.toString(),(i,e)=>i.isEqual(e))}const o0=new Ze(pe.comparator),a0=new pt(pe.comparator);function Re(...i){let e=a0;for(const n of i)e=e.add(n);return e}const l0=new pt(Se);function u0(){return l0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function mg(i){return{integerValue:""+i}}function c0(i,e){return OE(e)?mg(e):Rh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this._=void 0}}function h0(i,e,n){return i instanceof ql?function(a,c){const f={fields:{[Ym]:{stringValue:Xm},[Zm]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Ih(c)&&(c=tu(c)),c&&(f.fields[Jm]=c),{mapValue:f}}(n,e):i instanceof na?yg(i,e):i instanceof ra?vg(i,e):function(a,c){const f=gg(a,c),g=Hp(f)+Hp(a.Re);return sh(f)&&sh(a.Re)?mg(g):Rh(a.serializer,g)}(i,e)}function f0(i,e,n){return i instanceof na?yg(i,e):i instanceof ra?vg(i,e):n}function gg(i,e){return i instanceof Ql?function(s){return sh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class ql extends su{}class na extends su{constructor(e){super(),this.elements=e}}function yg(i,e){const n=_g(e);for(const s of i.elements)n.some(a=>Wn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ra extends su{constructor(e){super(),this.elements=e}}function vg(i,e){let n=_g(e);for(const s of i.elements)n=n.filter(a=>!Wn(a,s));return{arrayValue:{values:n}}}class Ql extends su{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Hp(i){return rt(i.integerValue||i.doubleValue)}function _g(i){return Sh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function d0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof na&&a instanceof na||s instanceof ra&&a instanceof ra?Ms(s.elements,a.elements,Wn):s instanceof Ql&&a instanceof Ql?Wn(s.Re,a.Re):s instanceof ql&&a instanceof ql}(i.transform,e.transform)}class p0{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ou{}function Eg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tg(i.key,dr.none()):new ia(i.key,i.data,dr.none());{const n=i.data,s=mn.empty();let a=new pt(Rt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Li(i.key,s,new Vn(a.toArray()),dr.none())}}function m0(i,e,n){i instanceof ia?function(a,c,f){const g=a.value.clone(),v=Qp(a.fieldTransforms,c,f.transformResults);g.setAll(v),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Li?function(a,c,f){if(!Dl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Qp(a.fieldTransforms,c,f.transformResults),v=c.data;v.setAll(wg(a)),v.setAll(g),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ko(i,e,n,s){return i instanceof ia?function(c,f,g,v){if(!Dl(c.precondition,f))return g;const E=c.value.clone(),S=Wp(c.fieldTransforms,v,f);return E.setAll(S),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Li?function(c,f,g,v){if(!Dl(c.precondition,f))return g;const E=Wp(c.fieldTransforms,v,f),S=f.data;return S.setAll(wg(c)),S.setAll(E),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(V=>V.field))}(i,e,n,s):function(c,f,g){return Dl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(i,e,n)}function g0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=gg(s.transform,a||null);c!=null&&(n===null&&(n=mn.empty()),n.set(s.field,c))}return n||null}function qp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ms(s,a,(c,f)=>d0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ia extends ou{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Li extends ou{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Qp(i,e,n){const s=new Map;ze(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,g=e.data.field(c.field);s.set(c.field,f0(f,g,n[a]))}return s}function Wp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,h0(c,f,e))}return s}class Tg extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y0 extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&m0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(a.key)?null:g;const v=Eg(f,g);v!==null&&s.set(a.key,v),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,s)=>qp(n,s))&&Ms(this.baseMutations,e.baseMutations,(n,s)=>qp(n,s))}}class Ph{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ze(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return o0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Ph(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,xe;function w0(i){switch(i){case K.OK:return ge(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ge(15467,{code:i})}}function Ig(i){if(i===void 0)return mr("GRPC error has no .code"),K.UNKNOWN;switch(i){case ot.OK:return K.OK;case ot.CANCELLED:return K.CANCELLED;case ot.UNKNOWN:return K.UNKNOWN;case ot.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ot.INTERNAL:return K.INTERNAL;case ot.UNAVAILABLE:return K.UNAVAILABLE;case ot.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ot.NOT_FOUND:return K.NOT_FOUND;case ot.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ot.ABORTED:return K.ABORTED;case ot.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ot.DATA_LOSS:return K.DATA_LOSS;default:return ge(39323,{code:i})}}(xe=ot||(ot={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new qr([4294967295,4294967295],0);function Kp(i){const e=qm().encode(i),n=new Fm;return n.update(e),new Uint8Array(n.digest())}function Gp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qr([n,s],0),new qr([a,c],0)]}class kh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(s<0)throw new $o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qr.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(qr.fromNumber(s)));return a.compare(T0)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Kp(e),[s,a]=Gp(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,a,c);if(!this.be(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new kh(c,a,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.pe===0)return;const n=Kp(e),[s,a]=Gp(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,a,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new au(_e.min(),a,new Ze(Se),gr(),Re())}}class sa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sa(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class Sg{constructor(e,n){this.targetId=e,this.Ce=n}}class Ag{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Xp{constructor(){this.Fe=0,this.Me=Yp(),this.xe=Pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Re(),n=Re(),s=Re();return this.Me.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ge(38017,{changeType:c})}}),new sa(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Yp()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class I0{constructor(e){this.ze=e,this.je=new Map,this.He=gr(),this.Je=Rl(),this.Ye=Rl(),this.Ze=new Ze(Se)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const c=a.target;if(ah(c))if(s===0){const f=new pe(c.path);this.tt(n,f,Ot.newNoDocument(f,_e.min()))}else ze(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(e),v=g?this.lt(g,e,f):1;if(v!==0){this.st(n);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,g;try{f=Xr(s).toUint8Array()}catch(v){if(v instanceof Gm)return Ls("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new kh(f,a,c)}catch(v){return Ls(v instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(n,c,null),a++)}),a}It(e){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&ah(g.target)){const v=new pe(g.target.path);this.Et(v).has(f)||this.dt(f,v)||this.tt(f,v,Ot.newNoDocument(v,e))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Re();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(v=>{const E=this._t(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(e));const a=new au(e,n,this.Ze,this.He,s);return this.He=gr(),this.Je=Rl(),this.Ye=Rl(),this.Ze=new Ze(Se),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Xp,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pt(Se),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pt(Se),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Xp),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Rl(){return new Ze(pe.comparator)}function Yp(){return new Ze(pe.comparator)}const S0={asc:"ASCENDING",desc:"DESCENDING"},A0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C0={and:"AND",or:"OR"};class R0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uh(i,e){return i.useProto3Json||eu(e)?e:{value:e}}function Wl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function P0(i,e){return Wl(i,e.toTimestamp())}function Qn(i){return ze(!!i,49232),_e.fromTimestamp(function(n){const s=Gr(n);return new dt(s.seconds,s.nanos)}(i))}function Nh(i,e){return ch(i,e).canonicalString()}function ch(i,e){const n=function(a){return new Ke(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Rg(i){const e=Ke.fromString(i);return ze(xg(e),10190,{key:e.toString()}),e}function hh(i,e){return Nh(i.databaseId,e.path)}function Wc(i,e){const n=Rg(e);if(n.get(1)!==i.databaseId.projectId)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(kg(n))}function Pg(i,e){return Nh(i.databaseId,e)}function k0(i){const e=Rg(i);return e.length===4?Ke.emptyPath():kg(e)}function fh(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kg(i){return ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Jp(i,e,n){return{name:hh(i,e),fields:n.value.mapValue.fields}}function N0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ge(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,S){return E.useProto3Json?(ze(S===void 0||typeof S=="string",58123),Pt.fromBase64String(S||"")):(ze(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Pt.fromUint8Array(S||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(E){const S=E.code===void 0?K.UNKNOWN:Ig(E.code);return new he(S,E.message||"")}(f);n=new Ag(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wc(i,s.document.name),c=Qn(s.document.updateTime),f=s.document.createTime?Qn(s.document.createTime):_e.min(),g=new mn({mapValue:{fields:s.document.fields}}),v=Ot.newFoundDocument(a,c,f,g),E=s.targetIds||[],S=s.removedTargetIds||[];n=new Ll(E,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wc(i,s.document),c=s.readTime?Qn(s.readTime):_e.min(),f=Ot.newNoDocument(a,c),g=s.removedTargetIds||[];n=new Ll([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wc(i,s.document),c=s.removedTargetIds||[];n=new Ll([],c,a,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new E0(a,c),g=s.targetId;n=new Sg(g,f)}}return n}function V0(i,e){let n;if(e instanceof ia)n={update:Jp(i,e.key,e.value)};else if(e instanceof Tg)n={delete:hh(i,e.key)};else if(e instanceof Li)n={update:Jp(i,e.key,e.data),updateMask:U0(e.fieldMask)};else{if(!(e instanceof y0))return ge(16599,{ft:e.type});n={verify:hh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof na)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ra)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw ge(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:P0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)}(i,e.precondition)),n}function x0(i,e){return i&&i.length>0?(ze(e!==void 0,14353),i.map(n=>function(a,c){let f=a.updateTime?Qn(a.updateTime):Qn(c);return f.isEqual(_e.min())&&(f=Qn(c)),new p0(f,a.transformResults||[])}(n,e))):[]}function D0(i,e){return{documents:[Pg(i,e.path)]}}function L0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pg(i,a);const c=function(E){if(E.length!==0)return Vg(Kn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(S=>function(D){return{field:Ns(D.field),direction:F0(D.dir)}}(S))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=uh(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{gt:n,parent:a}}function M0(i){let e=k0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ze(s===1,65062);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=function(V){const D=Ng(V);return D instanceof Kn&&sg(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(V){return V.map(D=>function(Y){return new Hl(Vs(Y.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(V){let D;return D=typeof V=="object"?V.value:V,eu(D)?null:D}(n.limit));let v=null;n.startAt&&(v=function(V){const D=!!V.before,j=V.values||[];return new $l(j,D)}(n.startAt));let E=null;return n.endAt&&(E=function(V){const D=!V.before,j=V.values||[];return new $l(j,D)}(n.endAt)),e0(e,a,f,c,g,"F",v,E)}function O0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ng(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vs(n.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vs(n.unaryFilter.field);return ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(n.unaryFilter.field);return ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(n.unaryFilter.field);return ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(i):i.fieldFilter!==void 0?function(n){return ft.create(Vs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Ng(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(i):ge(30097,{filter:i})}function F0(i){return S0[i]}function z0(i){return A0[i]}function b0(i){return C0[i]}function Ns(i){return{fieldPath:i.canonicalString()}}function Vs(i){return Rt.fromServerFormat(i.fieldPath)}function Vg(i){return i instanceof ft?function(n){if(n.op==="=="){if(bp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(zp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(zp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:z0(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Vg(a));return s.length===1?s[0]:{compositeFilter:{op:b0(n.op),filters:s}}}(i):ge(54877,{filter:i})}function U0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,a,c=_e.min(),f=_e.min(),g=Pt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.wt=e}}function j0(i){const e=M0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Cn=new H0}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Kr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class H0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(Ke.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dg=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(Dg,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new zs(0)}static lr(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="LruGarbageCollector",q0=1048576;function tm([i,e],[n,s]){const a=Se(i,n);return a===0?Se(e,s):a}class Q0{constructor(e){this.Er=e,this.buffer=new pt(tm),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ie(em,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?ie(em,"Ignoring IndexedDB error during garbage collection: ",n):await $s(n)}await this.mr(3e5)})}}class K0{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Zl.le);const s=new Q0(n);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Zp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zp):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,a,c,f,g,v,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),a=this.params.maximumSequenceNumbersToCollect):a=V,f=Date.now(),this.nthSequenceNumber(e,a))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,n))).next(V=>(c=V,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(E=Date.now(),Ps()<=De.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${V} documents in `+(E-v)+`ms
Total Duration: ${E-S}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:V})))}}function G0(i,e){return new K0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ko(s.mutation,a,Vn.empty(),dt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Re()){const a=ki();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=jo();return c.forEach((g,v)=>{f=f.insert(g,v.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ki();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Re()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,a){let c=gr();const f=Wo(),g=function(){return Wo()}();return n.forEach((v,E)=>{const S=s.get(E.key);a.has(E.key)&&(S===void 0||S.mutation instanceof Li)?c=c.insert(E.key,E):S!==void 0?(f.set(E.key,S.mutation.getFieldMask()),Ko(S.mutation,E,S.mutation.getFieldMask(),dt.now())):f.set(E.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((E,S)=>f.set(E,S)),n.forEach((E,S)=>{var V;return g.set(E,new Y0(S,(V=f.get(E))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,n){const s=Wo();let a=new Ze((f,g)=>f-g),c=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(v=>{const E=n.get(v);if(E===null)return;let S=s.get(v)||Vn.empty();S=g.applyToLocalView(E,S),s.set(v,S);const V=(a.get(g.batchId)||Re()).add(v);a=a.insert(g.batchId,V)})}).next(()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,S=v.value,V=pg();S.forEach(D=>{if(!c.has(D)){const j=Eg(n.get(D),s.get(D));j!==null&&V.set(D,j),c=c.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,V))}return B.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(ki());let g=Jo,v=c;return f.next(E=>B.forEach(E,(S,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),c.get(S)?B.resolve():this.remoteDocumentCache.getEntry(e,S).next(D=>{v=v.insert(S,D)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,v,E,Re())).next(S=>({batchId:g,changes:dg(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let a=jo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=jo();return this.indexManager.getCollectionParents(e,c).next(g=>B.forEach(g,v=>{const E=function(V,D){return new nu(D,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(n,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(S=>{S.forEach((V,D)=>{f=f.insert(V,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((v,E)=>{const S=E.getKey();f.get(S)===null&&(f=f.insert(S,Ot.newInvalidDocument(S)))});let g=jo();return f.forEach((v,E)=>{const S=c.get(v);S!==void 0&&Ko(S.mutation,E,Vn.empty(),dt.now()),iu(n,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return B.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Qn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:j0(a.bundledQuery),readTime:Qn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.overlays=new Ze(pe.comparator),this.Qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ki();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=ki(),c=n.length+1,f=new pe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>s&&a.set(v.getKey(),v)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ze((E,S)=>E-S);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let S=c.get(E.largestBatchId);S===null&&(S=ki(),c=c.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const g=ki(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,S)=>g.set(E,S)),!(g.size()>=a)););return B.resolve(g)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new _0(n,s));let c=this.Qr.get(n);c===void 0&&(c=Re(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.$r=new pt(wt.Ur),this.Kr=new pt(wt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new wt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new wt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new pe(new Ke([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Kr.forEachInRange([s,a],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new Ke([])),s=new wt(n,e),a=new wt(n,e+1);let c=Re();return this.Kr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Se(e.Zr,n.Zr)}static Wr(e,n){return Se(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new pt(wt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new v0(c,n,s,a);this.mutationQueue.push(f);for(const g of a)this.Xr=this.Xr.add(new wt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return B.resolve(f)}lookupMutationBatch(e,n){return B.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ti(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Th:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,a],f=>{const g=this.ei(f.Zr);c.push(g)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Se);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),B.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const f=new wt(new pe(c),0);let g=new pt(Se);return this.Xr.forEachWhile(v=>{const E=v.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(g=g.add(v.Zr)),!0)},f),B.resolve(this.ni(g))}ni(e){const n=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return B.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new wt(n,0),a=this.Xr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.ii=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=gr();const f=n.path,g=new pe(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:S}}=v.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||xE(VE(S),s)<=0||(a.has(S.key)||iu(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ge(9500)}si(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new i1(this)}getSize(e){return B.resolve(this.size)}}class i1 extends X0{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.persistence=e,this.oi=new Di(n=>Ah(n),Ch),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this._i=0,this.ai=new Vh,this.targetCount=0,this.ui=zs.cr()}forEachTarget(e,n){return this.oi.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),B.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new zs(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Tr(n),B.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.ci={},this.overlays={},this.li=new Zl(0),this.hi=!1,this.hi=!0,this.Pi=new t1,this.referenceDelegate=e(this),this.Ti=new s1(this),this.indexManager=new $0,this.remoteDocumentCache=function(a){return new r1(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new B0(n),this.Ei=new Z0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new n1(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new o1(this.li.next());return this.referenceDelegate.di(),s(a).next(c=>this.referenceDelegate.Ai(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ri(e,n){return B.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class o1 extends LE{constructor(e){super(),this.currentSequenceNumber=e}}class xh{constructor(e){this.persistence=e,this.Vi=new Vh,this.mi=null}static fi(e){return new xh(e)}get gi(){if(this.mi)return this.mi;throw ge(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,s=>{const a=pe.fromPath(s);return this.pi(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return B.or([()=>B.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.yi=new Di(s=>FE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=G0(this,n)}static fi(e,n){return new Kl(e,n)}di(){}Ai(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return B.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.si(e,f=>this.Dr(e,f,n).next(g=>{g||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vl(e.data.value)),n}Dr(e,n,s){return B.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ds=s,this.As=a}static Rs(e,n){let s=Re(),a=Re();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Dh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return t_()?8:ME(Zv())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ws(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new a1;return this.Ss(e,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(e,n,f,g.size)})}).next(()=>c.result)}Ds(e,n,s,a){return s.documentReadCount<this.gs?(Ps()<=De.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(Ps()<=De.DEBUG&&ie("QueryEngine","Query:",ks(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Ps()<=De.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):B.resolve())}ws(e,n){if($p(n))return B.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=lh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Re(...c);return this.ys.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const E=this.vs(n,g);return this.Cs(n,E,f,v.readTime)?this.ws(e,lh(n,null,"F")):this.Fs(e,E,n,v)}))})))}bs(e,n,s,a){return $p(n)||a.isEqual(_e.min())?B.resolve(null):this.ys.getDocuments(e,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,a)?B.resolve(null):(Ps()<=De.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ks(n)),this.Fs(e,f,n,NE(a,Jo)).next(g=>g))})}vs(e,n){let s=new pt(hg(e));return n.forEach((a,c)=>{iu(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return Ps()<=De.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",ks(n)),this.ys.getDocumentsMatchingQuery(e,n,Kr.min(),s)}Fs(e,n,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="LocalStore",u1=3e8;class c1{constructor(e,n,s,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Ze(Se),this.Os=new Di(c=>Ah(c),Ch),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J0(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function h1(i,e,n,s){return new c1(i,e,n,s)}async function Mg(i,e){const n=Ee(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let v=Re();for(const E of a){f.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}for(const E of c){g.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}return n.localDocuments.getDocuments(s,v).next(E=>({ks:E,removedBatchIds:f,addedBatchIds:g}))})})}function f1(i,e){const n=Ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,E,S){const V=E.batch,D=V.keys();let j=B.resolve();return D.forEach(Y=>{j=j.next(()=>S.getEntry(v,Y)).next(J=>{const W=E.docVersions.get(Y);ze(W!==null,48541),J.version.compareTo(W)<0&&(V.applyToRemoteDocument(J,E),J.isValidDocument()&&(J.setReadTime(E.commitVersion),S.addEntry(J)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,V))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Re();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(v=v.add(g.batch.mutations[E].key));return v}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Og(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function d1(i,e){const n=Ee(i),s=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const g=[];e.targetChanges.forEach((S,V)=>{const D=a.get(V);if(!D)return;g.push(n.Ti.removeMatchingKeys(c,S.removedDocuments,V).next(()=>n.Ti.addMatchingKeys(c,S.addedDocuments,V)));let j=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(V)!==null?j=j.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,s)),a=a.insert(V,j),function(J,W,we){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=u1?!0:we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0}(D,j,S)&&g.push(n.Ti.updateTargetData(c,j))});let v=gr(),E=Re();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))}),g.push(p1(c,f,e.documentUpdates).next(S=>{v=S.qs,E=S.Qs})),!s.isEqual(_e.min())){const S=n.Ti.getLastRemoteSnapshotVersion(c).next(V=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(S)}return B.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(n.xs=a,c))}function p1(i,e,n){let s=Re(),a=Re();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=gr();return n.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(_e.min())?(e.removeEntry(g,v.readTime),f=f.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),f=f.insert(g,v)):ie(Lh,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{qs:f,Qs:a}})}function m1(i,e){const n=Ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Th),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function g1(i,e){const n=Ee(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ti.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Ti.allocateTargetId(s).next(f=>(a=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function dh(i,e,n){const s=Ee(i),a=s.xs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Hs(f))throw f;ie(Lh,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function nm(i,e,n){const s=Ee(i);let a=_e.min(),c=Re();return s.persistence.runTransaction("Execute query","readwrite",f=>function(v,E,S){const V=Ee(v),D=V.Os.get(S);return D!==void 0?B.resolve(V.xs.get(D)):V.Ti.getTargetData(E,S)}(s,f,qn(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(v=>{c=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Re())).next(g=>(y1(s,r0(e),g),{documents:g,$s:c})))}function y1(i,e,n){let s=i.Ns.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Ns.set(e,s)}class rm{constructor(){this.activeTargetIds=u0()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v1{constructor(){this.xo=new rm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new rm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="ConnectivityMonitor";class sm{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ie(im,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ie(im,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=null;function ph(){return Pl===null?Pl=function(){return 268435456+Math.round(2147483648*Math.random())}():Pl++,"0x"+Pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="RestConnection",E1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w1{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Bl?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,n,s,a,c){const f=ph(),g=this.jo(e,n.toUriEncodedString());ie(Kc,`Sending RPC '${e}' ${f}:`,g,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,a,c);const{host:E}=new URL(g),S=_h(E);return this.Jo(e,g,v,s,S).then(V=>(ie(Kc,`Received RPC '${e}' ${f}: `,V),V),V=>{throw Ls(Kc,`RPC '${e}' ${f} failed with error: `,V,"url: ",g,"request:",s),V})}Yo(e,n,s,a,c,f){return this.zo(e,n,s,a,c)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}jo(e,n){const s=E1[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class I1 extends w1{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const f=ph();return new Promise((g,v)=>{const E=new zm;E.setWithCredentials(!0),E.listenOnce(bm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Nl.NO_ERROR:const V=E.getResponseJson();ie(Dt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(V)),g(V);break;case Nl.TIMEOUT:ie(Dt,`RPC '${e}' ${f} timed out`),v(new he(K.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const D=E.getStatus();if(ie(Dt,`RPC '${e}' ${f} failed with status:`,D,"response text:",E.getResponseText()),D>0){let j=E.getResponseJson();Array.isArray(j)&&(j=j[0]);const Y=j==null?void 0:j.error;if(Y&&Y.status&&Y.message){const J=function(we){const me=we.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(me)>=0?me:K.UNKNOWN}(Y.status);v(new he(J,Y.message))}else v(new he(K.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new he(K.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{h_:e,streamId:f,P_:E.getLastErrorCode(),T_:E.getLastError()})}}finally{ie(Dt,`RPC '${e}' ${f} completed.`)}});const S=JSON.stringify(a);ie(Dt,`RPC '${e}' ${f} sending request:`,a),E.send(n,"POST",S,s,15)})}I_(e,n,s){const a=ph(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jm(),g=Bm(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const S=c.join("");ie(Dt,`Creating RPC '${e}' stream ${a}: ${S}`,v);const V=f.createWebChannel(S,v);this.E_(V);let D=!1,j=!1;const Y=new T1({Zo:W=>{j?ie(Dt,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(D||(ie(Dt,`Opening RPC '${e}' stream ${a} transport.`),V.open(),D=!0),ie(Dt,`RPC '${e}' stream ${a} sending:`,W),V.send(W))},Xo:()=>V.close()}),J=(W,we,me)=>{W.listen(we,ye=>{try{me(ye)}catch(Te){setTimeout(()=>{throw Te},0)}})};return J(V,Bo.EventType.OPEN,()=>{j||(ie(Dt,`RPC '${e}' stream ${a} transport opened.`),Y.__())}),J(V,Bo.EventType.CLOSE,()=>{j||(j=!0,ie(Dt,`RPC '${e}' stream ${a} transport closed`),Y.u_(),this.d_(V))}),J(V,Bo.EventType.ERROR,W=>{j||(j=!0,Ls(Dt,`RPC '${e}' stream ${a} transport errored. Name:`,W.name,"Message:",W.message),Y.u_(new he(K.UNAVAILABLE,"The operation could not be completed")))}),J(V,Bo.EventType.MESSAGE,W=>{var we;if(!j){const me=W.data[0];ze(!!me,16349);const ye=me,Te=(ye==null?void 0:ye.error)||((we=ye[0])===null||we===void 0?void 0:we.error);if(Te){ie(Dt,`RPC '${e}' stream ${a} received error:`,Te);const Ge=Te.status;let Pe=function(A){const R=ot[A];if(R!==void 0)return Ig(R)}(Ge),k=Te.message;Pe===void 0&&(Pe=K.INTERNAL,k="Unknown error status: "+Ge+" with message "+Te.message),j=!0,Y.u_(new he(Pe,k)),V.close()}else ie(Dt,`RPC '${e}' stream ${a} received:`,me),Y.c_(me)}}),J(g,Um.STAT_EVENT,W=>{W.stat===nh.PROXY?ie(Dt,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===nh.NOPROXY&&ie(Dt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Gc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){return new R0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=a,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="PersistentStream";class zg{constructor(e,n,s,a,c,f,g,v){this.xi=e,this.S_=s,this.D_=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Fg(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===n&&this.z_(s,a)},s=>{e(()=>{const a=new he(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ie(om,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ie(om,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S1 extends zg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=N0(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Qn(f.readTime):_e.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=fh(this.serializer),n.addTarget=function(c,f){let g;const v=f.target;if(g=ah(v)?{documents:D0(c,v)}:{query:L0(c,v).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Cg(c,f.resumeToken);const E=uh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(_e.min())>0){g.readTime=Wl(c,f.snapshotVersion.toTimestamp());const E=uh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const s=O0(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=fh(this.serializer),n.removeTarget=e,this.Q_(n)}}class A1 extends zg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=x0(e.writeResults,e.commitTime),s=Qn(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=fh(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>V0(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class R1 extends C1{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(e,ch(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(K.UNKNOWN,c.toString())})}Yo(e,n,s,a,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(e,ch(n,s),a,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(K.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class P1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mr(n),this.ua=!1):ie("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="RemoteStore";class k1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Mi(this)&&(ie(Vi,"Restarting streams for network reachability change."),await async function(v){const E=Ee(v);E.da.add(4),await oa(E),E.Va.set("Unknown"),E.da.delete(4),await uu(E)}(this))})}),this.Va=new P1(s,a)}}async function uu(i){if(Mi(i))for(const e of i.Aa)await e(!0)}async function oa(i){for(const e of i.Aa)await e(!1)}function bg(i,e){const n=Ee(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),zh(n)?Fh(n):qs(n).N_()&&Oh(n,e))}function Mh(i,e){const n=Ee(i),s=qs(n);n.Ea.delete(e),s.N_()&&Ug(n,e),n.Ea.size===0&&(s.N_()?s.k_():Mi(n)&&n.Va.set("Unknown"))}function Oh(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(i).Z_(e)}function Ug(i,e){i.ma.Ke(e),qs(i).X_(e)}function Fh(i){i.ma=new I0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),qs(i).start(),i.Va.ca()}function zh(i){return Mi(i)&&!qs(i).O_()&&i.Ea.size>0}function Mi(i){return Ee(i).da.size===0}function Bg(i){i.ma=void 0}async function N1(i){i.Va.set("Online")}async function V1(i){i.Ea.forEach((e,n)=>{Oh(i,e)})}async function x1(i,e){Bg(i),zh(i)?(i.Va.Pa(e),Fh(i)):i.Va.set("Unknown")}async function D1(i,e,n){if(i.Va.set("Online"),e instanceof Ag&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const g of c.targetIds)a.Ea.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ea.delete(g),a.ma.removeTarget(g))}(i,e)}catch(s){ie(Vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gl(i,s)}else if(e instanceof Ll?i.ma.Xe(e):e instanceof Sg?i.ma.ot(e):i.ma.nt(e),!n.isEqual(_e.min()))try{const s=await Og(i.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ea.get(E);S&&c.Ea.set(E,S.withResumeToken(v.resumeToken,f))}}),g.targetMismatches.forEach((v,E)=>{const S=c.Ea.get(v);if(!S)return;c.Ea.set(v,S.withResumeToken(Pt.EMPTY_BYTE_STRING,S.snapshotVersion)),Ug(c,v);const V=new jr(S.target,v,E,S.sequenceNumber);Oh(c,V)}),c.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){ie(Vi,"Failed to raise snapshot:",s),await Gl(i,s)}}async function Gl(i,e,n){if(!Hs(e))throw e;i.da.add(1),await oa(i),i.Va.set("Offline"),n||(n=()=>Og(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie(Vi,"Retrying IndexedDB access"),await n(),i.da.delete(1),await uu(i)})}function jg(i,e){return e().catch(n=>Gl(i,n,e))}async function cu(i){const e=Ee(i),n=Jr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Th;for(;L1(e);)try{const a=await m1(e.localStore,s);if(a===null){e.Ia.length===0&&n.k_();break}s=a.batchId,M1(e,a)}catch(a){await Gl(e,a)}$g(e)&&Hg(e)}function L1(i){return Mi(i)&&i.Ia.length<10}function M1(i,e){i.Ia.push(e);const n=Jr(i);n.N_()&&n.ea&&n.ta(e.mutations)}function $g(i){return Mi(i)&&!Jr(i).O_()&&i.Ia.length>0}function Hg(i){Jr(i).start()}async function O1(i){Jr(i).ia()}async function F1(i){const e=Jr(i);for(const n of i.Ia)e.ta(n.mutations)}async function z1(i,e,n){const s=i.Ia.shift(),a=Ph.from(s,e,n);await jg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await cu(i)}async function b1(i,e){e&&Jr(i).ea&&await async function(s,a){if(function(f){return w0(f)&&f!==K.ABORTED}(a.code)){const c=s.Ia.shift();Jr(s).L_(),await jg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await cu(s)}}(i,e),$g(i)&&Hg(i)}async function am(i,e){const n=Ee(i);n.asyncQueue.verifyOperationInProgress(),ie(Vi,"RemoteStore received new credentials");const s=Mi(n);n.da.add(3),await oa(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await uu(n)}async function U1(i,e){const n=Ee(i);e?(n.da.delete(2),await uu(n)):e||(n.da.add(2),await oa(n),n.Va.set("Unknown"))}function qs(i){return i.fa||(i.fa=function(n,s,a){const c=Ee(n);return c.oa(),new S1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{e_:N1.bind(null,i),n_:V1.bind(null,i),i_:x1.bind(null,i),Y_:D1.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),zh(i)?Fh(i):i.Va.set("Unknown")):(await i.fa.stop(),Bg(i))})),i.fa}function Jr(i){return i.ga||(i.ga=function(n,s,a){const c=Ee(n);return c.oa(),new A1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:O1.bind(null,i),i_:b1.bind(null,i),na:F1.bind(null,i),ra:z1.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await cu(i)):(await i.ga.stop(),i.Ia.length>0&&(ie(Vi,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,g=new bh(e,n,f,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uh(i,e){if(mr("AsyncQueue",`${e}: ${i}`),Hs(i))return new he(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=jo(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.pa=new Ze(pe.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ge(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class bs{constructor(e,n,s,a,c,f,g,v,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new bs(e,n,Ds.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class j1{constructor(){this.queries=um(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ee(n),c=a.queries;a.queries=um(),c.forEach((f,g)=>{for(const v of g.Sa)v.onError(s)})})(this,new he(K.ABORTED,"Firestore shutting down"))}}function um(){return new Di(i=>cg(i),ru)}async function $1(i,e){const n=Ee(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Da()&&e.va()&&(s=2):(c=new B1,s=e.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(a,!0);break;case 1:c.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=Uh(f,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.Sa.push(e),e.Fa(n.onlineState),c.ba&&e.Ma(c.ba)&&Bh(n)}async function H1(i,e){const n=Ee(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?a=e.va()?0:1:!c.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function q1(i,e){const n=Ee(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(a)&&(s=!0);f.ba=a}}s&&Bh(n)}function Q1(i,e,n){const s=Ee(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function Bh(i){i.Ca.forEach(e=>{e.next()})}var mh,cm;(cm=mh||(mh={})).xa="default",cm.Cache="cache";class W1{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==mh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.key=e}}class Qg{constructor(e){this.key=e}}class K1{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Re(),this.mutatedKeys=Re(),this.Za=hg(e),this.Xa=new Ds(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new lm,a=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((S,V)=>{const D=a.get(S),j=iu(this.query,V)?V:null,Y=!!D&&this.mutatedKeys.has(D.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let W=!1;D&&j?D.data.isEqual(j.data)?Y!==J&&(s.track({type:3,doc:j}),W=!0):this.ru(D,j)||(s.track({type:2,doc:j}),W=!0,(v&&this.Za(j,v)>0||E&&this.Za(j,E)<0)&&(g=!0)):!D&&j?(s.track({type:0,doc:j}),W=!0):D&&!j&&(s.track({type:1,doc:D}),W=!0,(v||E)&&(g=!0)),W&&(j?(f=f.add(j),c=J?c.add(S):c.delete(S)):(f=f.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((S,V)=>function(j,Y){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:W})}};return J(j)-J(Y)}(S.type,V.type)||this.Za(S.doc,V.doc)),this.iu(s),a=a!=null&&a;const g=n&&!a?this.su():[],v=this.Ya.size===0&&this.current&&!a?1:0,E=v!==this.Ja;return this.Ja=v,f.length!==0||E?{snapshot:new bs(this.query,e.Xa,c,f,e.mutatedKeys,v===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new lm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Re(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new Qg(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new qg(s))}),n}au(e){this.Ha=e.$s,this.Ya=Re();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return bs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jh="SyncEngine";class G1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class X1{constructor(e){this.key=e,this.cu=!1}}class Y1{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Di(g=>cg(g),ru),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ze(pe.comparator),this.Eu=new Map,this.du=new Vh,this.Au={},this.Ru=new Map,this.Vu=zs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function J1(i,e,n=!0){const s=Jg(i);let a;const c=s.hu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.uu()):a=await Wg(s,e,n,!0),a}async function Z1(i,e){const n=Jg(i);await Wg(n,e,!0,!1)}async function Wg(i,e,n,s){const a=await g1(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await ew(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&bg(i.remoteStore,a),g}async function ew(i,e,n,s,a){i.fu=(V,D,j)=>async function(J,W,we,me){let ye=W.view.tu(we);ye.Cs&&(ye=await nm(J.localStore,W.query,!1).then(({documents:k})=>W.view.tu(k,ye)));const Te=me&&me.targetChanges.get(W.targetId),Ge=me&&me.targetMismatches.get(W.targetId)!=null,Pe=W.view.applyChanges(ye,J.isPrimaryClient,Te,Ge);return fm(J,W.targetId,Pe.ou),Pe.snapshot}(i,V,D,j);const c=await nm(i.localStore,e,!0),f=new K1(e,c.$s),g=f.tu(c.documents),v=sa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(g,i.isPrimaryClient,v);fm(i,n,E.ou);const S=new G1(e,n,f);return i.hu.set(e,S),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),E.snapshot}async function tw(i,e,n){const s=Ee(i),a=s.hu.get(e),c=s.Pu.get(a.targetId);if(c.length>1)return s.Pu.set(a.targetId,c.filter(f=>!ru(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Mh(s.remoteStore,a.targetId),gh(s,a.targetId)}).catch($s)):(gh(s,a.targetId),await dh(s.localStore,a.targetId,!0))}async function nw(i,e){const n=Ee(i),s=n.hu.get(e),a=n.Pu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mh(n.remoteStore,s.targetId))}async function rw(i,e,n){const s=cw(i);try{const a=await function(f,g){const v=Ee(f),E=dt.now(),S=g.reduce((j,Y)=>j.add(Y.key),Re());let V,D;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Y=gr(),J=Re();return v.Bs.getEntries(j,S).next(W=>{Y=W,Y.forEach((we,me)=>{me.isValidDocument()||(J=J.add(we))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,Y)).next(W=>{V=W;const we=[];for(const me of g){const ye=g0(me,V.get(me.key).overlayedDocument);ye!=null&&we.push(new Li(me.key,ye,ng(ye.value.mapValue),dr.exists(!0)))}return v.mutationQueue.addMutationBatch(j,E,we,g)}).next(W=>{D=W;const we=W.applyToLocalDocumentSet(V,J);return v.documentOverlayCache.saveOverlays(j,W.batchId,we)})}).then(()=>({batchId:D.batchId,changes:dg(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,g,v){let E=f.Au[f.currentUser.toKey()];E||(E=new Ze(Se)),E=E.insert(g,v),f.Au[f.currentUser.toKey()]=E}(s,a.batchId,n),await aa(s,a.changes),await cu(s.remoteStore)}catch(a){const c=Uh(a,"Failed to persist write");n.reject(c)}}async function Kg(i,e){const n=Ee(i);try{const s=await d1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Eu.get(c);f&&(ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.cu=!0:a.modifiedDocuments.size>0?ze(f.cu,14607):a.removedDocuments.size>0&&(ze(f.cu,42227),f.cu=!1))}),await aa(n,s,e)}catch(s){await $s(s)}}function hm(i,e,n){const s=Ee(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(e);g.snapshot&&a.push(g.snapshot)}),function(f,g){const v=Ee(f);v.onlineState=g;let E=!1;v.queries.forEach((S,V)=>{for(const D of V.Sa)D.Fa(g)&&(E=!0)}),E&&Bh(v)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iw(i,e,n){const s=Ee(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),c=a&&a.key;if(c){let f=new Ze(pe.comparator);f=f.insert(c,Ot.newNoDocument(c,_e.min()));const g=Re().add(c),v=new au(_e.min(),new Map,new Ze(Se),f,g);await Kg(s,v),s.Iu=s.Iu.remove(c),s.Eu.delete(e),$h(s)}else await dh(s.localStore,e,!1).then(()=>gh(s,e,n)).catch($s)}async function sw(i,e){const n=Ee(i),s=e.batch.batchId;try{const a=await f1(n.localStore,e);Xg(n,s,null),Gg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await aa(n,a)}catch(a){await $s(a)}}async function ow(i,e,n){const s=Ee(i);try{const a=await function(f,g){const v=Ee(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let S;return v.mutationQueue.lookupMutationBatch(E,g).next(V=>(ze(V!==null,37113),S=V.keys(),v.mutationQueue.removeMutationBatch(E,V))).next(()=>v.mutationQueue.performConsistencyCheck(E)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(E,S,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S)).next(()=>v.localDocuments.getDocuments(E,S))})}(s.localStore,e);Xg(s,e,n),Gg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await aa(s,a)}catch(a){await $s(a)}}function Gg(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function Xg(i,e,n){const s=Ee(i);let a=s.Au[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function gh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Yg(i,s)})}function Yg(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(Mh(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),$h(i))}function fm(i,e,n){for(const s of n)s instanceof qg?(i.du.addReference(s.key,e),aw(i,s)):s instanceof Qg?(ie(jh,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Yg(i,s.key)):ge(19791,{pu:s})}function aw(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(ie(jh,"New document in limbo: "+n),i.Tu.add(s),$h(i))}function $h(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new pe(Ke.fromString(e)),s=i.Vu.next();i.Eu.set(s,new X1(n)),i.Iu=i.Iu.insert(n,s),bg(i.remoteStore,new jr(qn(ug(n.path)),s,"TargetPurposeLimboResolution",Zl.le))}}async function aa(i,e,n){const s=Ee(i),a=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,v)=>{f.push(s.fu(v,e,n).then(E=>{var S;if((E||n)&&s.isPrimaryClient){const V=E?!E.fromCache:(S=n==null?void 0:n.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(v.targetId,V?"current":"not-current")}if(E){a.push(E);const V=Dh.Rs(v.targetId,E);c.push(V)}}))}),await Promise.all(f),s.lu.Y_(a),await async function(v,E){const S=Ee(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>B.forEach(E,D=>B.forEach(D.ds,j=>S.persistence.referenceDelegate.addReference(V,D.targetId,j)).next(()=>B.forEach(D.As,j=>S.persistence.referenceDelegate.removeReference(V,D.targetId,j)))))}catch(V){if(!Hs(V))throw V;ie(Lh,"Failed to update sequence numbers: "+V)}for(const V of E){const D=V.targetId;if(!V.fromCache){const j=S.xs.get(D),Y=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(Y);S.xs=S.xs.insert(D,J)}}}(s.localStore,c))}async function lw(i,e){const n=Ee(i);if(!n.currentUser.isEqual(e)){ie(jh,"User change. New user:",e.toKey());const s=await Mg(n.localStore,e);n.currentUser=e,function(c,f){c.Ru.forEach(g=>{g.forEach(v=>{v.reject(new he(K.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await aa(n,s.ks)}}function uw(i,e){const n=Ee(i),s=n.Eu.get(e);if(s&&s.cu)return Re().add(s.key);{let a=Re();const c=n.Pu.get(e);if(!c)return a;for(const f of c){const g=n.hu.get(f);a=a.unionWith(g.view.eu)}return a}}function Jg(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iw.bind(null,e),e.lu.Y_=q1.bind(null,e.eventManager),e.lu.gu=Q1.bind(null,e.eventManager),e}function cw(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ow.bind(null,e),e}class Xl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return h1(this.persistence,new l1,e.initialUser,this.serializer)}Su(e){return new Lg(xh.fi,this.serializer)}bu(e){return new v1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xl.provider={build:()=>new Xl};class hw extends Xl{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ze(this.persistence.referenceDelegate instanceof Kl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new W0(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Lg(s=>Kl.fi(s,n),this.serializer)}}class yh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lw.bind(null,this.syncEngine),await U1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j1}()}createDatastore(e){const n=lu(e.databaseInfo.databaseId),s=function(c){return new I1(c)}(e.databaseInfo);return function(c,f,g,v){return new R1(c,f,g,v)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,g){return new k1(s,a,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>hm(this.syncEngine,n,0),function(){return sm.C()?new sm:new _1}())}createSyncEngine(e,n){return function(a,c,f,g,v,E,S){const V=new Y1(a,c,f,g,v,E);return S&&(V.mu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ee(a);ie(Vi,"RemoteStore shutting down."),c.da.add(5),await oa(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yh.provider={build:()=>new yh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class dw{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ie(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ie(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xc(i,e){i.asyncQueue.verifyOperationInProgress(),ie(Zr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Mg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await pw(i);ie(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>am(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>am(e.remoteStore,a)),i._onlineComponents=e}async function pw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie(Zr,"Using user provided OfflineComponentProvider");try{await Xc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Xc(i,new Xl)}}else ie(Zr,"Using default OfflineComponentProvider"),await Xc(i,new hw(void 0));return i._offlineComponents}async function Zg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie(Zr,"Using user provided OnlineComponentProvider"),await dm(i,i._uninitializedComponentsProvider._online)):(ie(Zr,"Using default OnlineComponentProvider"),await dm(i,new yh))),i._onlineComponents}function mw(i){return Zg(i).then(e=>e.syncEngine)}async function gw(i){const e=await Zg(i),n=e.eventManager;return n.onListen=J1.bind(null,e.syncEngine),n.onUnlisten=tw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nw.bind(null,e.syncEngine),n}function yw(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,g,v,E){const S=new fw({next:D=>{S.xu(),f.enqueueAndForget(()=>H1(c,V)),D.fromCache&&v.source==="server"?E.reject(new he(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(D)},error:D=>E.reject(D)}),V=new W1(g,S,{includeMetadataChanges:!0,Qa:!0});return $1(c,V)}(await gw(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,e,n){if(!n)throw new he(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vw(i,e,n,s){if(e===!0&&s===!0)throw new he(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mm(i){if(!pe.isDocumentKey(i))throw new he(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gm(i){if(pe.isDocumentKey(i))throw new he(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ge(12329,{type:typeof i})}function Yl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(i);throw new he(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="firestore.googleapis.com",ym=!0;class vm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ny,this.ssl=ym}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ym;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q0)throw new he(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ey((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wE;switch(s.type){case"firstParty":return new AE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pm.get(n);s&&(ie("ComponentProvider","Removing Datastore"),pm.delete(n),s.terminate())}(this),Promise.resolve()}}function _w(i,e,n,s={}){var a;i=Yl(i,hu);const c=_h(e),f=i._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),v=`${e}:${n}`;c&&(Kv(`https://${v}`),Jv("Firestore",!0)),f.host!==ny&&f.host!==v&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},f),{host:v,ssl:c,emulatorOptions:s});if(!Fl(E,g)&&(i._setSettings(E),s.mockUserToken)){let S,V;if(typeof s.mockUserToken=="string")S=s.mockUserToken,V=Mt.MOCK_USER;else{S=Gv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new he(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Mt(D)}i._authCredentials=new TE(new Hm(S,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class xn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Wr extends fu{constructor(e,n,s){super(e,n,ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new pe(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function _m(i,e,...n){if(i=Go(i),ty("collection","path",e),i instanceof hu){const s=Ke.fromString(e,...n);return gm(s),new Wr(i,null,s)}{if(!(i instanceof xn||i instanceof Wr))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return gm(s),new Wr(i.firestore,null,s)}}function Ew(i,e,...n){if(i=Go(i),arguments.length===1&&(e=Qm.newId()),ty("doc","path",e),i instanceof hu){const s=Ke.fromString(e,...n);return mm(s),new xn(i,null,new pe(s))}{if(!(i instanceof xn||i instanceof Wr))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return mm(s),new xn(i.firestore,i instanceof Wr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="AsyncQueue";class wm{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Fg(this,"async_queue_retry"),this.rc=()=>{const s=Gc();s&&ie(Em,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Gc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Gc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Qr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Hs(e))throw e;ie(Em,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,mr("INTERNAL UNHANDLED ERROR: ",Tm(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=bh.createAndSchedule(this,e,n,s,c=>this.uc(c));return this.Zu.push(a),a}oc(){this.Xu&&ge(47125,{cc:Tm(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Tm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class qh extends hu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new wm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wm(e),this._firestoreClient=void 0,await e}}}function ww(i,e){const n=typeof i=="object"?i:lE(),s=typeof i=="string"?i:Bl,a=rE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Qv("firestore");c&&_w(a,...c)}return a}function ry(i){if(i._terminated)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Tw(i),i._firestoreClient}function Tw(i){var e,n,s;const a=i._freezeSettings(),c=function(g,v,E,S){return new UE(g,v,E,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,ey(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new dw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(Pt.fromBase64String(e))}catch(n){throw new he(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=/^__.*__$/;class Sw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}function sy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ic:i})}}class Gh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Jl(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(sy(this.Ic)&&Iw.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Aw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lu(e)}bc(e,n,s,a=!1){return new Gh({Ic:e,methodName:n,wc:s,path:Rt.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(i){const e=i._freezeSettings(),n=lu(i._databaseId);return new Aw(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Rw(i,e,n,s,a,c={}){const f=i.bc(c.merge||c.mergeFields?2:0,e,n,a);uy("Data must be an object, but it was:",f,s);const g=ay(s,f);let v,E;if(c.merge)v=new Vn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const S=[];for(const V of c.mergeFields){const D=Pw(e,V,n);if(!f.contains(D))throw new he(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);Nw(S,D)||S.push(D)}v=new Vn(S),E=f.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,E=f.fieldTransforms;return new Sw(new mn(g),v,E)}function oy(i,e){if(ly(i=Go(i)))return uy("Unsupported field value:",e,i),ay(i,e);if(i instanceof iy)return function(s,a){if(!sy(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const g of s){let v=oy(g,a.fc(f));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Go(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:Wl(a.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,c)}}if(s instanceof Wh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:Cg(a.serializer,s._byteString)};if(s instanceof xn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Kh)return function(f,g){return{mapValue:{fields:{[eg]:{stringValue:tg},[jl]:{arrayValue:{values:f.toArray().map(E=>{if(typeof E!="number")throw g.gc("VectorValues must only contain numeric values.");return Rh(g.serializer,E)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${Hh(s)}`)}(i,e)}function ay(i,e){const n={};return Km(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(i,(s,a)=>{const c=oy(a,e.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ly(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof dt||i instanceof Wh||i instanceof Us||i instanceof xn||i instanceof iy||i instanceof Kh)}function uy(i,e,n){if(!ly(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Hh(n);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function Pw(i,e,n){if((e=Go(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return cy(i,e);throw Jl("Field path arguments must be of type string or ",i,!1,void 0,n)}const kw=new RegExp("[~\\*/\\[\\]]");function cy(i,e,n){if(e.search(kw)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||f)&&(v+=" (found",c&&(v+=` in field ${s}`),f&&(v+=` in document ${a}`),v+=")"),new he(K.INVALID_ARGUMENT,g+i+v)}function Nw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vw extends hy{data(){return super.data()}}function fy(i,e){return typeof e=="string"?cy(i,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xi(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[jl].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>rt(f.doubleValue));return new Kh(c)}convertGeoPoint(e){return new Wh(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ke.fromString(e);ze(xg(s),9688,{name:e});const a=new ea(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||mr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mw extends hy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ml extends Mw{data(e={}){return super.data(e)}}class Ow{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new kl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ml(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(g=>{const v=new Ml(a._firestore,a._userDataWriter,g.doc.key,g.doc,new kl(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new Ml(a._firestore,a._userDataWriter,g.doc.key,g.doc,new kl(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,S=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:Fw(g.type),doc:v,oldIndex:E,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Fw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:i})}}class zw extends Dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function bw(i){i=Yl(i,fu);const e=Yl(i.firestore,qh),n=ry(e),s=new zw(e);return xw(i._query),yw(n,i._query).then(a=>new Ow(e,s,i,a))}function Uw(i,e){const n=Yl(i.firestore,qh),s=Ew(i),a=Lw(i.converter,e);return Bw(n,[Rw(Cw(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,dr.exists(!1))]).then(()=>s)}function Bw(i,e){return function(s,a){const c=new Qr;return s.asyncQueue.enqueueAndForget(async()=>rw(await mw(s),a,c)),c.promise}(ry(i),e)}(function(e,n=!0){(function(a){js=a})(aE),bl(new Xo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new qh(new IE(s.getProvider("auth-internal")),new CE(f,s.getProvider("app-check-internal")),function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new he(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(E.options.projectId,S)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),xs(Cp,Rp,e),xs(Cp,Rp,"esm2017")})();const jw={apiKey:"AIzaSyAoOzH_i6sQoQq59NEXZzi-JcWplENTGfw",authDomain:"famelies.firebaseapp.com",projectId:"famelies",storageBucket:"famelies.firebasestorage.app",messagingSenderId:"876298055884",appId:"1:876298055884:web:022e5a07599ceafe829269",measurementId:"G-8CM4RFVH1W"},$w=Lm(jw),Im=ww($w),Hw=()=>{const[i,e]=Lt.useState([]),[n,s]=Lt.useState("list"),[a,c]=Lt.useState(null),[f,g]=Lt.useState({key:"2222",familyName:"",wazeLocation:"",members:[{name:"",phone:"",role:"אב"},{name:"",phone:"",role:"אם"}]});Lt.useEffect(()=>{},[]);const[v,E]=Lt.useState(!1),[S,V]=Lt.useState(!1),[D,j]=Lt.useState(!1),[Y,J]=Lt.useState(""),W="1234";Lt.useEffect(()=>{(async()=>{const ne=_m(Im,"families"),se=(await bw(ne)).docs.map(te=>({id:te.id,...te.data()}));e(se)})()},[]);const we=async()=>{const ee=f.members.some(ne=>ne.name.trim());if(f.familyName&&f.wazeLocation&&ee){const ne={familyName:f.familyName,wazeLocation:f.wazeLocation,members:f.members.filter(H=>H.name.trim()),submittedAt:new Date().toLocaleString("he-IL")};await Uw(_m(Im,"families"),ne),g({familyName:"",wazeLocation:"",members:[{key:"1",name:"",phone:"",role:"אב"},{key:"2",name:"",phone:"",role:"אם"}]}),s("list")}else alert("נא למלא לפחות שם משפחה, מיקום ובן משפחה אחד עם שם")},me=(ee,ne)=>{ee==="wazeLocation"&&ne.includes("google.com/maps")&&(ne=k(ne)),g({...f,[ee]:ne})},ye=(ee,ne,H)=>{const se=[...f.members];se[ee]={...se[ee],[ne]:H},g({...f,members:se})},Te=()=>{g({...f,members:[...f.members,{name:"",phone:"",role:"ילד/ה"}]})},Ge=ee=>{if(f.members.length>1){const ne=f.members.filter((H,se)=>se!==ee);g({...f,members:ne})}},Pe=()=>{if(E(!0),!navigator.geolocation){alert("הדפדפן שלך לא תומך במיקום אוטומטי"),E(!1);return}const ee={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(ne=>{const H=ne.coords.latitude.toFixed(6),se=ne.coords.longitude.toFixed(6),te=`${H},${se}`;g(x=>({...x,wazeLocation:te})),E(!1)},ne=>{E(!1);let H="לא הצלחנו לקבל את המיקום. ";switch(ne.code){case ne.PERMISSION_DENIED:H+="נדחתה הגישה למיקום. אנא אפשר גישה למיקום בהגדרות הדפדפן.";break;case ne.POSITION_UNAVAILABLE:H+="מידע המיקום לא זמין.";break;case ne.TIMEOUT:H+="תם הזמן לקבלת המיקום. נסה שוב.";break;default:H+="שגיאה לא ידועה.";break}alert(H)},ee)},k=ee=>{const ne=ee.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(ne){const H=ne[1],se=ne[2];return`${H},${se}`}return ee},T=ee=>{window.open(`tel:${ee}`,"_self")},A=ee=>{const ne=ee.replace(/[-\s]/g,""),H=ne.startsWith("0")?"972"+ne.substring(1):ne;window.open(`https://wa.me/${H}`,"_blank")},R=ee=>{window.open(`https://waze.com/ul?q=${encodeURIComponent(ee)}`,"_blank")},N=()=>{Y===W?(V(!0),j(!1),J("")):(alert("סיסמה שגויה!"),J(""))},L=()=>{V(!1)},I=(ee,ne)=>{if(!S){j(!0);return}window.confirm(`האם אתה בטוח שברצונך למחוק את משפחת ${ne}?`)&&(e(i.filter(se=>se.id!==ee)),a&&a.id===ee&&(s("list"),c(null)))},Xe=ee=>{c(ee),s("details")},mt=()=>{s("form")};return n==="list"?U.createElement("div",{className:"min-vh-100 bg-light py-4"},U.createElement("div",{className:"container"},U.createElement("div",{className:"topbar"},U.createElement(dp,{className:"me-3",size:32}),U.createElement("h1",{className:"h3 mb-0"},"משפחות הישוב")),U.createElement("div",{className:"d-flex align-items-center gap-3"},S&&U.createElement("button",{onClick:L,className:"btn btn-secondary d-flex align-items-center gap-2"},U.createElement(kv,{size:16}),"יציאה ממנהל"),U.createElement("button",{onClick:()=>s("form"),className:"btn btn-primary d-flex align-items-center gap-2"},U.createElement(xv,{size:20}),"הוסף משפחה חדשה")),i.length===0?U.createElement("div",{className:"text-center py-5"},U.createElement(dp,{className:"text-muted mb-3",size:64}),U.createElement("p",{className:"h5 text-muted mb-4"},"עדיין אין משפחות רשומות"),U.createElement("button",{onClick:()=>mt(),className:"btn btn-primary btn-lg"},"הוסף את המשפחה הראשונה")):U.createElement("div",{className:"rows"},i.map(ee=>U.createElement("div",{key:ee.id,className:"col"},U.createElement("div",{className:"card"},U.createElement("div",{className:"d-flex align-items-center cursor-pointer flex-grow-1",onClick:()=>Xe(ee)},U.createElement("div",null,U.createElement("h5",{className:"card-title mb-1"},"משפחת ",ee.familyName),U.createElement("p",{className:"card-text text-muted"},ee.members.length," בני משפחה • נרשם: ",ee.submittedAt))),U.createElement("div",{className:"d-flex align-items-center gap-2"},S&&U.createElement("button",{onClick:ne=>{ne.stopPropagation(),I(ee.id,ee.familyName)},className:"btn btn-danger btn-sm",title:"מחק משפחה"},U.createElement(fp,{size:16})),U.createElement(Rv,{className:"text-muted",size:20})))))),D&&U.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},U.createElement("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},U.createElement("div",{className:"flex items-center mb-4"},U.createElement(Pv,{className:"h-6 w-6 text-blue-600 mr-3"}),U.createElement("h3",{className:"text-xl font-bold text-gray-800"},"כניסת מנהל")),U.createElement("p",{className:"text-gray-600 mb-4"},"נדרשת סיסמת מנהל כדי למחוק משפחות"),U.createElement("div",{className:"space-y-4"},U.createElement("input",{type:"password",value:Y,onChange:ee=>J(ee.target.value),onKeyPress:ee=>ee.key==="Enter"&&N(),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"הכנס סיסמת מנהל",autoFocus:!0}),U.createElement("div",{className:"flex space-x-3"},U.createElement("button",{onClick:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors"},"התחבר"),U.createElement("button",{onClick:()=>{j(!1),J("")},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded-lg transition-colors"},"ביטול"))))))):n==="form"?U.createElement("div",{className:"min-vh-100 bg-light py-4"},U.createElement("div",{className:"container"},U.createElement("div",{className:"card shadow-sm"},U.createElement("div",{className:"card-body p-5"},U.createElement("div",{className:"d-flex align-items-center justify-content-between mb-4"},U.createElement("h1",{className:"h3 mb-0"},"רישום משפחה חדשה"),U.createElement("button",{onClick:()=>s("list"),className:"btn btn-link text-decoration-none d-flex align-items-center gap-2"},U.createElement(cp,{size:20}),"חזור לרשימה")),U.createElement("div",{className:"row g-4"},U.createElement("div",{className:"col-12"},U.createElement("label",{className:"form-label"},"שם המשפחה *"),U.createElement("input",{type:"text",value:f.familyName,onChange:ee=>me("familyName",ee.target.value),className:"form-control",placeholder:"הכנס את שם המשפחה"})),U.createElement("div",{className:"col-12"},U.createElement("label",{className:"form-label"},"מיקום בוויז *"),U.createElement("input",{type:"text",value:f.wazeLocation,onChange:ee=>me("wazeLocation",ee.target.value),className:"form-control mb-3",placeholder:"כתובת מלאה או הדבק קישור מגוגל מפות"}),U.createElement("button",{onClick:Pe,disabled:v,className:"btn btn-outline-primary mb-3"},v?"מקבל מיקום...":"קבל מיקום נוכחי"),U.createElement("div",{className:"alert alert-info"},U.createElement("strong",{className:"d-block mb-2"},"💡 דרכים לקבל את המיקום שלך:"),U.createElement("ul",{className:"mb-0"},U.createElement("li",null,"פתח גוגל מפות בטלפון → שתף מיקום → העתק קישור"),U.createElement("li",null,"בוויז: לחץ על הבית → שתף → העתק קישור"),U.createElement("li",null,'כתוב כתובת מלאה: "רחוב 123, עיר"'),U.createElement("li",null,"בגוגל: חפש את הכתובת שלך → העתק הקואורדינטות")))),U.createElement("div",{className:"col-12"},U.createElement("div",{className:"d-flex align-items-center justify-content-between mb-3"},U.createElement("label",{className:"form-label"},"בני המשפחה *"),U.createElement("button",{type:"button",onClick:Te,className:"btn btn-success btn-sm d-flex align-items-center gap-2"},U.createElement(Dv,{size:16}),"הוסף בן משפחה")),f.members.map((ee,ne)=>U.createElement("div",{key:ne,className:"card mb-3"},U.createElement("div",{className:"card-body"},U.createElement("div",{className:"d-flex align-items-center justify-content-between mb-3"},U.createElement("div",{className:"d-flex align-items-center gap-2"},U.createElement(Lv,{size:20}),U.createElement("span",{className:"fw-medium"},"בן משפחה ",ne+1)),f.members.length>1&&U.createElement("button",{type:"button",onClick:()=>Ge(ne),className:"btn btn-link text-danger p-0"},U.createElement(Mv,{size:16}))),U.createElement("div",{className:"row g-3"},U.createElement("div",{className:"col-md-4"},U.createElement("input",{type:"text",value:ee.role,onChange:H=>ye(ne,"role",H.target.value),className:"form-control",placeholder:"תפקיד (אב/אם/ילד)"})),U.createElement("div",{className:"col-md-4"},U.createElement("input",{type:"text",value:ee.name,onChange:H=>ye(ne,"name",H.target.value),className:"form-control",placeholder:"שם פרטי"})),U.createElement("div",{className:"col-md-4"},U.createElement("input",{type:"tel",value:ee.phone,onChange:H=>ye(ne,"phone",H.target.value),className:"form-control",placeholder:"טלפון"}))))))),U.createElement("div",{className:"col-12"},U.createElement("button",{onClick:we,className:"btn btn-success w-100"},"שלח טופס משפחה"))))))):n==="details"&&a?U.createElement("div",{className:"min-vh-100 bg-light py-4"},U.createElement("div",{className:"container"},U.createElement("div",{className:"card shadow-sm"},U.createElement("div",{className:"card-body p-5"},U.createElement("div",{className:"d-flex align-items-center justify-content-between mb-4"},U.createElement("h1",{className:"h3 mb-0"},"משפחת ",a.familyName),U.createElement("div",{className:"d-flex align-items-center gap-3"},S&&U.createElement("button",{onClick:()=>I(a.id,a.familyName),className:"btn btn-danger d-flex align-items-center gap-2"},U.createElement(fp,{size:16}),"מחק משפחה"),U.createElement("button",{onClick:()=>s("list"),className:"btn btn-link text-decoration-none d-flex align-items-center gap-2"},U.createElement(cp,{size:20}),"חזור לרשימה"))),U.createElement("div",{className:"row g-4"},U.createElement("div",{className:"col-12 text-center"},U.createElement("div",{className:"card"},U.createElement("div",{className:"card-body"},U.createElement("div",{className:"avatar-circle bg-primary text-white rounded-circle mx-auto mb-3",style:{width:"80px",height:"80px",fontSize:"32px"}},a.familyName.charAt(0)),U.createElement("h2",{className:"h4 mb-2"},"משפחת ",a.familyName),U.createElement("p",{className:"text-muted"},"נרשם: ",a.submittedAt)))),U.createElement("div",{className:"col-12"},U.createElement("div",{className:"card"},U.createElement("div",{className:"card-body d-flex align-items-center justify-content-between"},U.createElement("div",{className:"d-flex align-items-center gap-3"},U.createElement(hp,{size:24}),U.createElement("div",null,U.createElement("p",{className:"fw-semibold mb-1"},"מיקום"),U.createElement("p",{className:"text-muted"},a.wazeLocation))),U.createElement("button",{onClick:()=>R(a.wazeLocation),className:"btn btn-primary d-flex align-items-center gap-2"},U.createElement(hp,{size:16}),"נווט")))),U.createElement("div",{className:"col-12"},U.createElement("h3",{className:"h5 mb-3"},"בני המשפחה"),U.createElement("div",{className:"row row-cols-1 g-4"},a.members.map((ee,ne)=>U.createElement("div",{key:ne,className:"col"},U.createElement("div",{className:"card"},U.createElement("div",{className:"card-body d-flex align-items-center justify-content-between"},U.createElement("div",{className:"d-flex align-items-center gap-3"},U.createElement("div",{className:"avatar-circle bg-primary-subtle text-primary rounded-circle",style:{width:"40px",height:"40px",fontSize:"16px"}},ee.name.charAt(0)||ee.role.charAt(0)),U.createElement("div",null,U.createElement("p",{className:"fw-semibold mb-1"},ee.name||"ללא שם"),U.createElement("p",{className:"text-muted small"},ee.role),ee.phone&&U.createElement("p",{className:"text-muted"},ee.phone))),ee.phone&&U.createElement("div",{className:"d-flex gap-2"},U.createElement("button",{onClick:()=>A(ee.phone),className:"btn btn-success btn-sm d-flex align-items-center gap-2"},U.createElement(Nv,{size:16}),"וואטסאפ"),U.createElement("button",{onClick:()=>T(ee.phone),className:"btn btn-primary btn-sm d-flex align-items-center gap-2"},U.createElement(Vv,{size:16}),"התקשר"))))))))))))):null};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("src/worker.js").then(i=>console.log("SW registered:",i)).catch(i=>console.error("SW registration failed:",i))});const qw=Iv.createRoot(document.getElementById("app"));qw.render(U.createElement(Hw,null));
